<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25" zv="Cache for Windows (x86-64) 2016.1 (Build 641U)" ts="2016-06-13 16:15:50">
<Class name="Training.DeepSee.Installer">
<IncludeCode>%occInclude</IncludeCode>
<TimeChanged>64082,58062.046858</TimeChanged>
<TimeCreated>62984,43576.543961</TimeCreated>

<XData name="Demos">
<XMLNamespace>INSTALLER</XMLNamespace>
<Data><![CDATA[
<Manifest>
	
	<Namespace Name="SAMPLES" Create="no">
	<Import File="${MYAPPDIR}" 
    Flags="ck"
    IgnoreErrors="0"/>
    	
    <Invoke Class="%DeepSee.TermList" Method="%ImportCSV" CheckStatus="true" Return="RetVal">
	<Arg Value="${TRMLISTDIR}HFRowAndColSpecs.CSV"/>
	<Arg Value="HFRowAndColSpecs"/>
	</Invoke>

	<Invoke Class="HoleFoods.Utils" Method="BuildData" CheckStatus="false" Return="">
	<Arg Value="100000"/>
	<Arg Value="1"/>
	<Arg Value="1"/>
	</Invoke>

    </Namespace>
	
	<ForEach Index="Image" Values="SKU-101.png,SKU-192.png,SKU-195.png,SKU-199.png,SKU-203.png,SKU-204.png,SKU-222.png,SKU-223.png,SKU-287.png,SKU-296.png,SKU-451.png,SKU-601.png,SKU-708.png,SKU-709.png,SKU-712.png,SKU-900.png,SKU-928.png">
	<CopyFile 
    Src="${SRCIMGDIR}${Image}"
    Target="${TARGIMGDIR}"
    IgnoreErrors="0"/>	
	
	</ForEach>
	
	<CopyDir Src ="${SRCAMCHARTSDIR}" Target="${TARGAMCHARTSDIR}"/>
	
	

	
	
	</Manifest>
]]></Data>
</XData>

<Method name="setup">
<Description>
This is a method generator whose code is generated by XGL.</Description>
<Internal>1</Internal>
<ClassMethod>1</ClassMethod>
<CodeMode>objectgenerator</CodeMode>
<FormalSpec><![CDATA[&pVars,pLogLevel:%Integer,pInstaller:%Installer.Installer,pLogger:%Installer.AbstractLogger]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	#; Let our XGL document generate code for this method. 
	Quit ##class(%Installer.Manifest).%Generate(%compiledclass, %code, "Demos")
]]></Implementation>
</Method>

<Method name="Install">
<Description>
Invoke the installer passing in some variables</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>dir:%String="c:\DeepSee\setup\files"</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	#dim tVars
	#dim tStatus As %Status
	#dim tLogLevel As %Integer = 1
	
	// Initialize any variables we want to pass to the installer
	set installdir = $System.Util.InstallDirectory()
	set targetImageDir = installdir_"\CSP\samples"
	set srcImageDir=dir_"\images\"
	set trmlistDir=dir_"\termlists\"
	
	//Adding amcharts directory to the mix
	set srcAmchartsDir = dir_"\amcharts\"
	set targetAmchartsDir=installdir_"\CSP\broker\amcharts"
	
	// Initialize any variables we want to pass to the installer
	Set tVars("MYAPPDIR") = ##class(%Library.File).NormalizeDirectory(dir)
	Set tVars("TARGIMGDIR")=##class(%Library.File).NormalizeDirectory(targetImageDir)
	Set tVars("SRCIMGDIR")=##class(%Library.File).NormalizeDirectory(srcImageDir)
	Set tVars("TRMLISTDIR")=##class(%Library.File).NormalizeDirectory(trmlistDir)
	Set tVars("SRCAMCHARTSDIR")=##class(%Library.File).NormalizeDirectory(srcAmchartsDir)
	Set tVars("TARGAMCHARTSDIR")=##class(%Library.File).NormalizeDirectory(targetAmchartsDir)
	
	// Invoke the installer
	Set tStatus = ..setup(.tVars,tLogLevel)
	
	Do:$$$ISERR(tStatus) $system.OBJ.DisplayError(tStatus)
	
	Quit tStatus
]]></Implementation>
</Method>
</Class>
</Export>

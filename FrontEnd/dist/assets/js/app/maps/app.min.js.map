{"version":3,"sources":["_app.js","app.config.js","app.router.js","app.run.js","iris.interceptor.js","template-cache.run.js","layout/multiselect-dropdown.component.js","layout/navbar.component.js","layout/spinner.component.js","services/date-utils.service.js","services/equipment-category.service.js","services/equipment.service.js","services/iris-utils.service.js","services/load-dump.service.js","services/truck.service.js","services/utils.service.js","components/mine-operation/mine-operation.component.js","components/home/home.component.js","components/charts/equipment-status-details/equipment-status-details.component.js","components/charts/less-productive-equipment/less-productive-equipments.component.js","components/charts/operation-seagull/operation-seagull.component.js","components/mine-operation/mining-plan/mining-plan.component.js","components/mine-operation/oee/default-filter.component.js","components/mine-operation/oee/oee.component.js","components/mine-operation/oee/oee.service.js","components/mine-operation/production/default-filter.component.js","components/mine-operation/production/production.component.js","components/mine-operation/mining-plan/index/index.component.js","components/mine-operation/mining-plan/tracing/tracing.component.js","components/mine-operation/oee/capacity-performance/capacity-performance.component.js","components/mine-operation/oee/charts/day-oee-chart.component.js","components/mine-operation/oee/charts/hour-oee-chart.component.js","components/mine-operation/oee/charts/minute-oee-chart.component.js","components/mine-operation/oee/overview/oee-gauge.component.js","components/mine-operation/oee/overview/overview-chart.component.js","components/mine-operation/oee/overview/overview.component.js","components/mine-operation/oee/time-performance/time-performance.component.js","components/mine-operation/oee/utilization/main-utilization-chart.component.js","components/mine-operation/oee/utilization/utilization.component.js","components/mine-operation/oee/utilization/utilization.service.js","components/mine-operation/production/compliance/compliance.component.js","components/mine-operation/production/compliance/equipment-production-status-chart.component.js","components/mine-operation/production/ranking/equip-rank-filter.component.js","components/mine-operation/production/ranking/equipment-ranking-chart.component.js","components/mine-operation/production/ranking/equipment-ranking-details.component.js","components/mine-operation/production/ranking/ranking.component.js","components/mine-operation/production/realtime/realtime.component.js","components/mine-operation/production/realtime/truck-operation-chart.component.js"],"names":["window","IRIS_URL","$","extend","fn","dataTable","defaults","language","emptyTable","zeroRecords","info","infoEmpty","infoFiltered","lengthMenu","loadingRecords","processing","search","searchPlaceholder","paginate","first","last","next","previous","aria","sortAscending","sortDescending","angular","module","AppConfig","$inject","config","$locationProvider","$httpProvider","html5Mode","hashPrefix","interceptors","push","AppRouter","$urlRouterProvider","$stateProvider","otherwise","state","url","component","redirectTo","Runner","run","$root","$transitions","$state","$uibModalStack","IrisUtils","appReady","onBefore","transition","$to","self","loginState","target","member","login","authenticated","Promise","resolve","onError","error","type","viewLoading","detail","go","params","status","console","log","onStart","dismissAll","onFinish","IrisInterceptor","factory","request","indexOf","headers","$templateCache","put","Controller","template","controller","controllerAs","bindings","items","selectedItems","onSelect","disabled","vm","$onInit","toggleItem","selectAll","unSelectAll","isOpened","onToggle","$onChanges","forEach","current","selected","item","index","findIndex","splice","length","open","NavBarController","$rootScope","toggleFullScreen","element","document","documentElement","fullScreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","show","text","cssClass","showLogo","DateUtils","service","pad","daysBetween","minutesBetween","allDaysBetween","hoursBetween","allHoursBetween","date1","date2","Math","abs","floor","getTime","days","date","Date","setDate","getDate","setHours","hours","getHours","setMinutes","number","slice","DEFAULT_CUBE","Service","utils","find","from","to","cube","fromNumber","getDateNumber","toNumber","rows","dimension","hierarchy","hierarchyLevel","members","dates","filters","values","query","buildQuery","executeQuery","then","data","Cols","tuples","map","name","caption","path","id","valueID","statusData","statusDetails","categories","equipments","rowType","columns","Array","isArray","parseTwoDimensionalResponse","$http","referenceDay","moment","referenceNumber","getPath","parseTreeDimensionalResponse","post","response","reject","getHTTPError","momentDate","diff","el","getFilterPath","filter","result","value","valueStr","join","measures","colString","buildColumns","rowString","buildRows","measureString","buildMeasures","filterString","buildFilters","elements","paths","children","child","i","byRow","Data","columnsLength","column","columnData","j","row","rowIndex","columnIndex","category","reduce","array","parent","$filter","Utils","getLoadEvents","getDumpEvents","getGanttData","loadEvent","eventType","trucks","dateNumber","cols","rowsArrive","rowsEnd","truck","cubeName","arriveQuery","endQuery","arriveData","endData","start","finish","err","names","load","transitToDump","dump","transitToLoad","rawData","temp","rowLength","startTimes","getTimes","finishTimes","currentIndexes","getStartIndex","truckIndex","isNaN","startIndex","finishIndex","getEndDateIndex","filled","generateInBetweenState","dimensions","parseInt","fixToEnd","times","hour","toDate","startData","finishData","startTimeIndex","startDate","finishTimeIndex","time","currentIndex","loadDumpData","states","loadAndDumps","prototype","apply","sort","a","b","TruckService","LoadDump","getProduction","responseData","_data","colIndex","equipmentName","timeInterval","parseFloat","UtilsService","textTester","getElementById","getTextWidth","Error","message","code","resource","style","classList","add","split","prop","textContent","width","offsetWidth","className","removeAttribute","HomeController","$element","Equipment","colors","echarts","customColors","copy","undefined","container","pieContainer","chart","destroyCharts","loadData","$onDestroy","dispose","pieChart","loading","plotCharts","categoryStep","minute","series","round","stack","barWidth","sum","longestSeriesName","paddingRight","ceil","fontSize","option","color","tooltip","grid","left","top","right","bottom","yAxis","axisLabel","nameLocation","nameGap","nameTextStyle","xAxis","legend","orient","textStyle","resetChart","pieSeries","radius","label","formatter","startAngle","total","totalPercent","title","c","options","isDisposed","init","clear","setOption","resize","maxCategories","size","onChartClick","$timeout","OEE","plotChart","seriesData","pair","Downtime","Operative","Delay","Standby","longestName","Object","keys","seriesId","animation","zoomStart","getZoomStart","paddingLeft","dataZoom","yAxisIndex","zoomLock","end","handleSize","showDetail","min","max","on","onClick","equipmentLength","containerHeight","offsetHeight","visibleBars","isLoading","height","defaultSeries","selectedMode","padding","applyFilters","loadEquipments","showWeeks","showMeridian","onClose","args","loadCategories","offSuccess","onSuccess","prevFrom","prevTo","truckCategory","selectedCategories","notShowLoading","selectedEquipements","$emit","$compile","filterTarget","displayFilters","tagName","currentTagName","filterScope","$destroy","empty","$new","append","$q","cache","minutes","listenFilters","loadDataAsDays","loadDataAsHours","loadDataAsMinutes","vars","offFilters","$on","e","Truck","day","loadTrucks","selectedTrucks","currentState","filtersMap","equipmentTable","createEquipmentTable","getEquipments","destroy","table","DataTable","searching","paging","lengthChange","scrollY","order","columnDefs","targets","searchable","types","Utilization","yAxisLabel","CapacityPerformance","TimePerformance","changes","assign","lastMarker","enableInteraction","labels","dataMap","_this","smooth","symbolSize","position","markPoint","coord","markLine","silent","lineStyle","symbol","componentType","shift","selectedDate","selectedHour","visualMap","pieces","lte","gt","suffix","hourString","seletectHour","_minute","valueInterval","chartTitle","$postLink","jqContainer","now","random","axisTick","splitLine","boundaryGap","goToTarget","lessProductiveChartClick","statusChartClick","selectedEquipments","selectedStatus","chartData","utilization","seriesName","byDay","byShift","shiftType","production","EquipmentCategory","onSelectStatus","CHART_HEIGHT","HEIGHT_RATIO","DIM_CATEGORY_INDEX","DIM_TIME_START","DIM_TIME_FINISH","_rawData","key","itemStyle","renderItem","renderGanttItem","encode","x","y","renderAxisLabelItem","marker","format","xAxisIndex","filterMode","handleIcon","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","backgroundColor","borderWidth","axisLine","inside","align","api","categoryIndex","startTime","finishTime","barLength","barHeight","rectNormal","clipRectByRect","ignore","shape","coordSys","textWidth","getTextRect","textVerticalAlign","textAlign","textFill","rect","graphic","trucksLength"],"mappings":"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","file":"../app.min.js","sourcesContent":["window.IRIS_URL = 'http://dev.austekchile.cl:52773/APPINT/MDX?Namespace=APPINT';\n\n$.extend(true, $.fn.dataTable.defaults, {\n  language: {\n    emptyTable: `<div class=\"alert alert-info no-margin\">No se han encontrado elementos</div>`,\n    zeroRecords: `<div class=\"alert alert-info no-margin\">No se han encontrado elementos</div>`,\n    info: 'Mostrando _START_ al _END_ de un total de _TOTAL_ elementos',\n    infoEmpty: 'Mostrando 0 al 0 de un total de 0 elementos',\n    infoFiltered: '(filtrado de un total de _MAX_ elementos)',\n    lengthMenu: 'Mostrar _MENU_ elementos',\n    loadingRecords: 'Cargando...',\n    processing: 'Procesando...',\n    search: '',\n    searchPlaceholder: 'Buscar',\n    paginate: {\n      first: 'Primero',\n      last: 'Último',\n      next: 'Siguiente',\n      previous: 'Previo'\n    },\n    aria: {\n      sortAscending: ': activar para ordenar la columna de manera ascendente',\n      sortDescending: ': activar para ordenar la columna de manera descendente'\n    }\n  }\n});\n\n;(() => {\n  'use strict';\n\n  window.angular\n    .module('app', [\n      'ngSanitize',\n      'angular-storage',\n      'ui.router',\n      'ui.select',\n      'ui.bootstrap',\n      'ui.bootstrap.datetimepicker'\n    ]);\n})();\n",";(function () {\n  'use strict';\n\n  const angular = window.angular;\n\n  AppConfig.$inject = ['$locationProvider', '$httpProvider'];\n\n  angular\n    .module('app')\n    .config(AppConfig);\n\n  function AppConfig($locationProvider, $httpProvider) {\n    $locationProvider.html5Mode(true).hashPrefix('#');\n    $httpProvider.interceptors.push('IrisInterceptor');\n  }\n})();\n","(() => {\n  'use strict';\n\n  const angular = window.angular;\n\n  AppRouter.$inject = ['$urlRouterProvider', '$stateProvider'];\n\n  angular\n    .module('app')\n    .config(AppRouter);\n\n  function AppRouter($urlRouterProvider, $stateProvider) {\n    $urlRouterProvider\n      .otherwise('');\n\n    $stateProvider\n      .state('home', {\n        url: '/',\n        component: 'home'\n      })\n      .state('mineOperation', {\n        url: '/mine-operation',\n        component: 'mineOperation',\n        redirectTo: 'mineOperation.production'\n      })\n      .state('mineOperation.oee', {\n        url: '/oee',\n        component: 'moOee',\n        redirectTo: 'mineOperation.oee.overview'\n      })\n      .state('mineOperation.oee.overview', {\n        url: '/overview',\n        component: 'oeeOverview'\n      })\n      .state('mineOperation.oee.timePerformance', {\n        url: '/time-performance',\n        component: 'oeeTimePerformance'\n      })\n      .state('mineOperation.oee.utilization', {\n        url: '/utilization',\n        component: 'oeeUtilization'\n      })\n      .state('mineOperation.oee.capacityPerformance', {\n        url: '/capacity-performance',\n        component: 'oeeCapacityPerformance'\n      })\n      .state('mineOperation.production', {\n        url: '/production',\n        component: 'moProduction',\n        redirectTo: 'mineOperation.production.realtime'\n      })\n      .state('mineOperation.production.realtime', {\n        url: '/realtime',\n        component: 'productionRealtime'\n      })\n      .state('mineOperation.production.ranking', {\n        url: '/ranking',\n        component: 'productionRanking'\n      })\n      .state('mineOperation.production.compliance', {\n        url: '/compliance',\n        component: 'productionCompliance'\n      })\n      .state('mineOperation.miningPlan', {\n        url: '/mining-plan',\n        component: 'moMiningPlan',\n        redirectTo: 'mineOperation.miningPlan.index'\n      })\n      .state('mineOperation.miningPlan.index', {\n        url: '/',\n        component: 'miningPlanIndex'\n      })\n      .state('mineOperation.miningPlan.tracing', {\n        url: '/tracing',\n        component: 'miningPlanTracing'\n      });\n\n  }\n})();\n","(() => {\n  Runner.$inject = ['$rootScope', '$transitions', '$state', '$uibModalStack', 'IrisUtils'];\n\n  window.angular\n    .module('app')\n    .run(Runner);\n\n  function Runner($root, $transitions, $state, $uibModalStack, IrisUtils) {\n    $root.appReady = true;\n\n    $transitions.onBefore({}, transition => {\n      let next = transition.$to().self;\n      let loginState = $state.target('public.login');\n      let member = $state.target('member.home');\n\n      if (next.login) {\n      } else if (next.authenticated) {\n      }\n\n      return Promise.resolve();\n    });\n\n    $transitions.onError({}, transition => {\n      let error = transition.error();\n      if (error) {\n        if (error.type === 5) { // The transition was ignored\n          $root.viewLoading = false;\n        }\n\n        if (error.detail) {\n          if (error.detail.redirectTo) {\n            $state.go(error.detail.redirectTo, error.detail.params);\n          } else if (error.detail.status === 401) {\n            $state.go('public.login');\n          } else if (error.type !== 2) {\n            console.log(error);\n            $state.go('member.home');\n          }\n        }\n      }\n    });\n\n    $transitions.onStart({}, transition => {\n      $uibModalStack.dismissAll();\n      $root.viewLoading = true;\n    });\n\n    $transitions.onFinish({}, transition => {\n      $root.viewLoading = false;\n    });\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  IrisInterceptor.$inject = [];\n\n  angular\n    .module('app')\n    .factory('IrisInterceptor', IrisInterceptor);\n\n  function IrisInterceptor() {\n    return {\n      request: function (config) {\n        if (config.url.indexOf('dev.austekchile.cl') !== -1) {\n          config.headers['Authorization'] = 'Basic U3VwZXJVc2VyOnN5cw==';\n          config.headers['Content-Type'] = 'application/json';\n        }\n\n        return config;\n      }\n    };\n  }\n})();",";(function () {\n  'use strict';\n\n  const angular = window.angular;\n\n  Runner.$inject = [\n    '$templateCache'\n  ];\n\n  angular\n    .module('app')\n    .run(Runner);\n\n  function Runner ($templateCache) {\n\n    $templateCache.put('template/time-picker.html',\n      `<ul class=\"dropdown-menu dropdown-menu-left datetime-picker-dropdown\" ng-show=\"isOpen && showPicker === 'time'\"\n            ng-style=\"dropdownStyle\" style=\"left:inherit\" ng-keydown=\"keydown($event)\" ng-click=\"$event.preventDefault(); $event.stopPropagation()\">\n            <li style=\"padding:0 5px 5px 5px\" class=\"time-picker-menu\">\n                <div ng-transclude></div>\n            </li>\n            <li style=\"padding:5px\" ng-if=\"buttonBar.show\">\n              <span class=\"btn-group pull-left\" style=\"margin-right:10px\" ng-if=\"doShow('now') || doShow('clear')\">\n                  <button type=\"button\" class=\"btn\" ng-class=\"getClass('now')\" ng-if=\"doShow('now')\" \n                          ng-click=\"select('now', $event)\" ng-disabled=\"isDisabled('now')\">{{ getText('now') }}\n                  </button> \n                  <button type=\"button\" class=\"btn\" ng-class=\"getClass('clear')\" ng-if=\"doShow('clear')\" \n                          ng-click=\"select('clear', $event)\">{{ getText('clear') }}\n                  </button>\n              </span>\n              <span class=\"btn-group pull-right\" ng-if=\"(doShow('date') && enableDate) || doShow('close') || doShow('cancel')\">\n                  <button type=\"button\" class=\"btn\" ng-class=\"getClass('date')\" ng-if=\"doShow('date') && enableDate\" ng-click=\"open('date', $event)\">{{ getText('date')}}</button>\n                  <button type=\"button\" class=\"btn\" ng-class=\"getClass('close')\" ng-if=\"doShow('close')\" ng-click=\"close(true, $event)\">{{ getText('close') }}</button> \n                  <button type=\"button\" class=\"btn\" ng-class=\"getClass('cancel')\" ng-if=\"doShow('cancel')\" ng-click=\"cancel($event)\">{{ getText('cancel') }}</button>\n              </span> \n              <span class=clearfix></span>\n            </li>\n      </ul>`\n    );\n\n    $templateCache.put('template/date-picker.html',\n      `<ul class=\"dropdown-menu dropdown-menu-left datetime-picker-dropdown\" ng-show=\"isOpen && showPicker === 'date'\" ng-style=\"dropdownStyle\" style=\"left:inherit\" ng-click=\"$event.preventDefault(); $event.stopPropagation()\">\n            <li style=\"padding:0 5px 5px 5px\" class=\"date-picker-menu\">\n                <div ng-transclude></div>\n            </li>\n            <li style=\"padding:5px\" ng-if=\"buttonBar.show\">\n                <span class=\"btn-group pull-left\" style=\"margin-right:10px\" ng-if=\"doShow('today') || doShow('clear')\">\n                    <button type=\"button\" class=\"btn\" ng-class=\"getClass('today')\" ng-if=\"doShow('today')\" ng-click=\"select('today', $event)\" ng-disabled=\"isDisabled('today')\">{{ getText('today') }}</button>\n                    <button type=\"button\" class=\"btn\" ng-class=\"getClass('clear')\" ng-if=\"doShow('clear')\" ng-click=\"select('clear', $event)\">{{ getText('clear') }}</button>\n                </span> \n                <span class=\"btn-group pull-right\" ng-if=\"(doShow('time') && enableTime) || doShow('close') || doShow('cancel')\">\n                    <button type=\"button\" class=\"btn\" ng-class=\"getClass('time')\" ng-if=\"doShow('time') && enableTime\" ng-click=\"open('time', $event)\">{{ getText('time')}}</button>\n                    <button type=\"button\" class=\"btn\" ng-class=\"getClass('close')\" ng-if=\"doShow('close')\" ng-click=\"close(true, $event)\">{{ getText('close') }}</button> \n                    <button type=\"button\" class=\"btn\" ng-class=\"getClass('cancel')\" ng-if=\"doShow('cancel')\" ng-click=\"cancel($event)\">{{ getText('cancel') }}</button>\n                </span> \n                <span class=clearfix></span>\n            </li>\n      </ul>`\n    );\n  }\n})();\n","(() => {\n  const angular = window.angular;\n  Controller.$inject = ['$rootScope'];\n\n  angular\n    .module('app')\n    .component('multiSelectDropdown', {\n      template:'<div style=\"display: block\" class=\"btn-group\" uib-dropdown on-toggle=\"ctrl.onToggle(open)\" auto-close=\"outsideClick\"><button class=\"btn btn-block btn-white\" uib-dropdown-toggle ng-disabled=\"!ctrl.items.length || ctrl.disabled\"><span ng-show=\"ctrl.items.length\"><span ng-if=\"ctrl.selectedItems.length\">{{ctrl.selectedItems.length}} Seleccionados</span> <span ng-if=\"!ctrl.selectedItems.length\">{{ctrl.label || \\'Seleccionar\\'}}</span></span> <span ng-show=\"!ctrl.items.length\">No hay elementos disponibles</span> <span class=\"caret\"></span></button><ul class=\"dropdown-menu\" uib-dropdown-menu style=\"max-height: 300px; overflow-y: auto; width: 100%\"><li ng-show=\"!ctrl.items.length\" class=\"marginTB20 text-center\"><strong>No se han encontrado elementos</strong></li><li><a ng-click=\"ctrl.selectAll()\" class=\"cursor-pointer\"><i class=\"fas fa-fw fa-check\"></i> Seleccionar Todo</a></li><li><a ng-click=\"ctrl.unSelectAll()\" class=\"cursor-pointer\"><i class=\"fas fa-fw fa-times\"></i> Deseleccionar Todo</a></li><li class=\"divider\"></li><li class=\"paddingLR10\"><input class=\"form-control input-xs\" placeholder=\"Buscar\" ng-model=\"search.name\"></li><li class=\"divider\"></li><li ng-repeat=\"item in ctrl.items | filter:search\"><label class=\"checkbox marginLR10 cursor-pointer\"><input type=\"checkbox\" ng-model=\"item.selected\" ng-change=\"ctrl.toggleItem(item)\"> <i></i> <span>{{item.name}}</span></label></li></ul></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        items: '<',\n        selectedItems: '<',\n        onSelect: '&',\n        disabled: '<'\n      }\n    });\n\n  function Controller($root) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.items = vm.items || [];\n      vm.selectedItems = vm.selectedItems || [];\n\n      vm.toggleItem = toggleItem;\n      vm.selectAll = selectAll;\n      vm.unSelectAll = unSelectAll;\n\n      vm.isOpened = false;\n\n      vm.onToggle = onToggle;\n    };\n\n    vm.$onChanges = function () {\n      vm.selectedItems = vm.selectedItems || [];\n      vm.selectedItems.forEach(current => {\n        current.selected = true;\n      });\n    };\n\n    function toggleItem(item) {\n      const index = vm.selectedItems.findIndex(current => current === item);\n\n      if (index === -1) {\n        vm.selectedItems.push(item);\n      } else {\n        vm.selectedItems.splice(index, 1);\n      }\n    }\n\n    function selectAll() {\n      vm.selectedItems.splice(0, vm.selectedItems.length);\n      for (let item of vm.items) {\n        item.selected = true;\n        vm.selectedItems.push(item);\n      }\n    }\n\n    function unSelectAll() {\n      vm.selectedItems.splice(0, vm.selectedItems.length);\n      for (let item of vm.items) {\n        item.selected = false;\n      }\n\n    }\n\n    function onToggle(open) {\n      if (!open) {\n        vm.onSelect();\n      }\n    }\n  }\n})();",";(function () {\n  'use strict';\n\n  let angular = window.angular;\n\n  NavBarController.$inject = [\n    '$rootScope'\n  ];\n\n  angular\n    .module('app')\n    .component('navBar', {\n      template:'<nav class=\"navbar navbar-inverse collapsed\"><div class=\"row-flex\"><div class=\"col-sm hidden-sm hidden-xs\"><div class=\"navbar-header\"><button type=\"button\" class=\"navbar-toggle\" ng-click=\"ctrl.isNavCollapsed = !ctrl.isNavCollapsed\" aria-expanded=\"false\" aria-controls=\"navbar\"><span class=\"sr-only\">Toggle navigation</span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span></button> <a class=\"navbar-brand\" ui-sref=\"home\"><span class=\"brand-full\"></span></a></div></div><div class=\"col-sm\"><h1 class=\"app-name\">IRIS Mining Platform</h1></div><div class=\"col-sm hidden-sm hidden-xs\"></div></div></nav><script type=\"text/ng-template\" id=\"sidebar-template.html\"><ul role=\"tablist\" ng-transclude class=\"nav\" id=\"side-menu\"></ul></script><script type=\"text/ng-template\" id=\"sidebar-dropdown.html\"><a href tabindex=\"0\" class=\"accordion-toggle\" ng-click=\"toggleOpen()\" uib-accordion-transclude=\"heading\"> <span uib-accordion-header ng-class=\"{\\'text-muted\\': isDisabled}\"> {{heading}} </span> <span class=\"fas arrow hide-collapsed\"></span> </a> <div ng-transclude uib-collapse=\"!isOpen\"> </div></script>',\n      controller: NavBarController,\n      controllerAs: 'ctrl'\n    });\n\n  function NavBarController($rootScope) {\n    let vm = this;\n    vm.$onInit = function () {\n      vm.toggleFullScreen = toggleFullScreen;\n    };\n\n\n    function toggleFullScreen() {\n      let element = window.document.documentElement;\n\n      if (!vm.fullScreen) {\n        if (element.requestFullscreen) {\n          element.requestFullscreen();\n        } else if (element.mozRequestFullScreen) {\n          element.mozRequestFullScreen();\n        } else if (element.webkitRequestFullscreen) {\n          element.webkitRequestFullscreen();\n        } else if (element.msRequestFullscreen) {\n          element.msRequestFullscreen();\n        }\n      } else {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n        }\n      }\n\n      vm.fullScreen = !vm.fullScreen;\n    }\n  }\n\n})();\n",";(function () {\n  'use strict';\n  window.angular\n    .module('app')\n    .component('spinner', {\n      template: `<div class=\"spinner-container {{ctrl.cssClass}}\" ng-hide=\"!ctrl.show\">\n          <div class=\"text-spinner\">\n            <div class=\"spinner\" ng-class=\"{'spinner-ready': !ctrl.show}\">\n              <div class=\"spinner-bg\"></div>\n              <div class=\"spinner-logo\" ng-if=\"ctrl.showLogo\"></div>\n            </div>\n            <div class=\"spinner-message\">\n               {{ctrl.text}}\n            </div>\n          </div>\n        </div>`,\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        show: '<',\n        text: '<',\n        cssClass: '<',\n        showLogo: '<?'\n      }\n    });\n\n  function Controller() {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.showLogo = typeof vm.showLogo === 'boolean' ? vm.showLogo : false;\n    };\n  }\n})();\n\n",";(() => {\n  DateUtils.$inject = [];\n\n  angular\n    .module('app')\n    .service('DateUtils', DateUtils);\n\n  function DateUtils () {\n\n    return {\n      pad,\n      daysBetween,\n      minutesBetween,\n      allDaysBetween,\n      hoursBetween,\n      allHoursBetween\n    };\n\n    function daysBetween (date1, date2) {\n      return Math.abs(Math.floor((date2.getTime() - date1.getTime()) / (1000 * 3600 * 24)));\n    }\n\n    function minutesBetween (date1, date2) {\n      return Math.abs(Math.floor((date2.getTime() - date1.getTime()) / (1000 * 60)));\n    }\n\n    function allDaysBetween (date1, date2) {\n      if (date1 >= date2) {\n        return [];\n      }\n\n      const days = [];\n      for (let date = new Date(date1.getTime()); date <= date2; date.setDate(date.getDate() + 1)) {\n        const current = new Date(date.getTime());\n        current.setHours(0, 0, 0, 0);\n        days.push(current);\n      }\n      return days;\n    }\n\n    function hoursBetween (date1, date2) {\n      return Math.abs(Math.floor((date2.getTime() - date1.getTime()) / (1000 * 3600)));\n    }\n\n    function allHoursBetween (date1, date2) {\n      if (date1 >= date2) {\n        return [];\n      }\n\n      const hours = [];\n      for (let date = new Date(date1.getTime()); date <= date2; date.setHours(date.getHours() + 1)) {\n        const current = new Date(date.getTime());\n        current.setMinutes(0, 0, 0);\n        hours.push(current);\n      }\n      return hours;\n    }\n\n    function pad (number) {\n      return ('0' + number).slice(-2);\n    }\n  }\n})();\n","(() => {\n  const angular = window.angular;\n  const DEFAULT_CUBE = 'ASPMINING.ANALYTICS.STATUSEVENTSLICEDCUBE';\n\n  Service.$inject = ['IrisUtils', 'Utils'];\n\n  angular\n    .module('app')\n    .service('EquipmentCategory', Service);\n\n  function Service(IrisUtils, utils) {\n    return {\n      find\n    };\n\n    function find(from, to, cube) {\n      cube = cube || DEFAULT_CUBE;\n\n      const fromNumber = IrisUtils.getDateNumber(from);\n      const toNumber = IrisUtils.getDateNumber(to);\n\n      const rows = [\n        {dimension: 'Equipment', hierarchy: 'H1', hierarchyLevel: 'Category', members: 'Members'}\n      ];\n\n      let dates = fromNumber;\n      if (fromNumber !== toNumber) {\n        dates = [fromNumber, toNumber];\n      }\n\n      const filters = [{\n        dimension: 'SLICESTARTDATE',\n        hierarchy: 'H1',\n        hierarchyLevel: 'SLICESTARTDATEDAY',\n        values: [dates]\n      }];\n\n      let query = IrisUtils.buildQuery(cube, null, rows, null, filters);\n\n      return IrisUtils.executeQuery(query)\n        .then(data => {\n          return data.Cols[1].tuples.map(current => {\n            return {name: current.caption, path: current.path, id: current.valueID};\n          });\n        });\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n  const DEFAULT_CUBE = 'ASPMINING.ANALYTICS.STATUSEVENTSLICEDCUBE';\n\n  Service.$inject = ['IrisUtils', 'Utils'];\n\n  angular\n    .module('app')\n    .service('Equipment', Service);\n\n  function Service(IrisUtils, utils) {\n    return {\n      statusData,\n      statusDetails\n    };\n\n    function statusData(from, to, categories, equipments, rowType) {\n      const cube = 'ASPMINING.ANALYTICS.STATUSEVENTSLICEDCUBE';\n      let rows;\n      switch (rowType) {\n        case 'equipment':\n          rows = [{dimension: 'Equipment', hierarchy: 'H1', hierarchyLevel: 'Name', members: 'Members'}];\n          break;\n        case 'day':\n          rows = [{\n            dimension: 'SliceStartDate',\n            hierarchy: 'H1',\n            hierarchyLevel: 'SliceStartDateDay',\n            members: 'Members'\n          }];\n          break;\n        case 'minute':\n        default:\n          rows = [{\n            dimension: 'SliceStartDate',\n            hierarchy: 'H1',\n            hierarchyLevel: 'SliceStartDateMinute',\n            members: 'Members'\n          }];\n      }\n\n      const fromNumber = IrisUtils.getDateNumber(from);\n      const toNumber = IrisUtils.getDateNumber(to);\n\n      const columns = [];\n      ['Operative', 'Delay', 'Standby', 'Downtime'].forEach(current => {\n        columns.push({\n          dimension: 'StatusType',\n          hierarchy: 'H1',\n          hierarchyLevel: 'StatusType',\n          members: `&[${current}]`\n        });\n      });\n\n      let dates = fromNumber;\n      if (fromNumber !== toNumber) {\n        dates = [fromNumber, toNumber];\n      }\n\n      const filters = [{\n        dimension: 'SLICESTARTDATE',\n        hierarchy: 'H1',\n        hierarchyLevel: 'SLICESTARTDATEDAY',\n        values: [dates]\n      }];\n\n      if (equipments && equipments.length) {\n        filters.push({\n          dimension: 'EQUIPMENT',\n          hierarchy: 'H1',\n          hierarchyLevel: 'Name',\n          values: Array.isArray(equipments)\n            ? equipments.map(current => current.name)\n            : [equipments.name]\n        });\n      } else {\n        filters.push({\n          dimension: 'EQUIPMENT',\n          hierarchy: 'H1',\n          hierarchyLevel: 'CATEGORY',\n          values: Array.isArray(categories)\n            ? categories.map(current => current.name)\n            : [categories.name]\n        });\n      }\n\n      let query = IrisUtils.buildQuery(cube, columns, rows, ['PartialDuration'], filters);\n\n\n      return IrisUtils.executeQuery(query)\n        .then(data => {\n          return IrisUtils.parseTwoDimensionalResponse(data, true);\n        });\n    }\n\n    function statusDetails(from, to, categories, equipments, status) {\n      const cube = 'ASPMINING.ANALYTICS.STATUSEVENTSLICEDCUBE';\n\n      const fromNumber = IrisUtils.getDateNumber(from);\n      const toNumber = IrisUtils.getDateNumber(to);\n\n      const columns = [{\n        dimension: 'Reason',\n        hierarchy: 'H1',\n        hierarchyLevel: 'Description',\n        members: `Members`\n      }];\n      const rows = [\n        {dimension: 'SliceStartDate', hierarchy: 'H1', hierarchyLevel: 'SliceStartDateMinute', members: 'Members'}\n      ];\n\n      let dates = fromNumber;\n      if (fromNumber !== toNumber) {\n        dates = [fromNumber, toNumber];\n      }\n\n      const filters = [{\n        dimension: 'SLICESTARTDATE',\n        hierarchy: 'H1',\n        hierarchyLevel: 'SLICESTARTDATEDAY',\n        values: [dates]\n      }, {\n        dimension: 'STATUSTYPE',\n        hierarchy: 'H1',\n        hierarchyLevel: 'STATUSTYPE',\n        values: [status]\n      }];\n\n      if (equipments && equipments.length) {\n        filters.push({\n          dimension: 'EQUIPMENT',\n          hierarchy: 'H1',\n          hierarchyLevel: 'Name',\n          values: Array.isArray(equipments)\n            ? equipments.map(current => current.name)\n            : [equipments.name]\n        });\n      } else {\n        filters.push({\n          dimension: 'EQUIPMENT',\n          hierarchy: 'H1',\n          hierarchyLevel: 'CATEGORY',\n          values: Array.isArray(categories)\n            ? categories.map(current => current.name)\n            : [categories.name]\n        });\n      }\n\n      let query = IrisUtils.buildQuery(cube, columns, rows, ['PartialDuration'], filters);\n\n      return IrisUtils.executeQuery(query)\n        .then(data => {\n          return IrisUtils.parseTwoDimensionalResponse(data);\n        });\n    }\n  }\n})();","(() => {\n\n  IrisUtils.$inject = ['$http', 'Utils'];\n\n  window.angular\n    .module('app')\n    .service('IrisUtils', IrisUtils);\n\n  function IrisUtils($http, utils) {\n    const referenceDay = moment(new Date('2018/01/01'));\n    const referenceNumber = 64649;\n\n    return {\n      getDateNumber,\n      getPath,\n      buildQuery,\n      executeQuery,\n      parseTwoDimensionalResponse,\n      parseTreeDimensionalResponse\n    };\n\n    function executeQuery(query) {\n      return $http\n        .post(window.IRIS_URL, {'MDX': query})\n        .then(response => {\n          return response.data;\n        })\n        .catch(response => {\n          return Promise.reject(utils.getHTTPError(response));\n        });\n    }\n\n    function getDateNumber(date) {\n      const momentDate = moment(date);\n      return referenceNumber + momentDate.diff(referenceDay, 'days');\n    }\n\n    /**\n     *\n     * @param el\n     * @param el.dimension\n     * @param el.hierarchy\n     * @param el.hierarchyLevel\n     * @param el.members\n     */\n    function getPath(el) {\n      return el.path || `[${el.dimension}].[${el.hierarchy}].[${el.hierarchyLevel}].${el.members}`;\n    }\n\n    function getFilterPath(filter) {\n      let result = '';\n\n      result += filter.values\n        .map(value => {\n          let valueStr = value;\n          if (Array.isArray(value)) {\n            valueStr = value.join(']:&[');\n          }\n          return `[${filter.dimension}].[${filter.hierarchy}].[${filter.hierarchyLevel}].&[${valueStr}]`;\n        })\n        .join(',');\n\n      if (filter.values.length > 1) {\n        result = '%OR({' + result + '})';\n      }\n\n      return result;\n    }\n\n    function buildQuery(cube, columns, rows, measures, filters) {\n      let colString = buildColumns(columns);\n      let rowString = buildRows(rows);\n      let measureString = buildMeasures(measures);\n\n      let query = 'SELECT';\n      if (colString && measureString) {\n        query += ` NON EMPTY NONEMPTYCROSSJOIN(${colString}, ${measureString}) ON 0`;\n      } else if (colString) {\n        query += ` NON EMPTY ${colString} ON 0`;\n      } else if (measureString) {\n        query += `${measureString} ON 0`;\n      }\n\n      if (rowString) {\n        query += colString || measureString ? ',' : '';\n        query += ` NON EMPTY ${rowString} ON 1`;\n      }\n\n      query += ` FROM [${cube}]`;\n\n      if (filters) {\n        if (!Array.isArray(filters[0])) {\n          filters = [filters];\n        }\n        filters.forEach(filter => {\n          let filterString = buildFilters(filter);\n          if (filterString) {\n            query += ` %FILTER ${filterString}`;\n          }\n        });\n      }\n\n      // console.log(query);\n      return query;\n    }\n\n    function buildRows(elements) {\n      let result = '';\n      if (elements && elements.length) {\n        if (elements.length === 1) {\n          result = getPath(elements[0]);\n        } else {\n          result = `{${elements.map(current => getPath(current)).join(',')}}`;\n        }\n      }\n\n      return result;\n    }\n\n    function buildColumns(elements) {\n      elements = elements || [];\n      let result = '';\n\n      const paths = [];\n      elements.forEach(current => {\n        let path = getPath(current);\n        if (current.children) {\n          let children = current.children.map((child) => getPath(child)).join(',');\n          if (current.children.length > 1) {\n            children = '{' + children + '}';\n          }\n\n          path = 'NONEMPTYCROSSJOIN(' + path + ',' + children + ')';\n        }\n        paths.push(path);\n      });\n\n      result = paths.join(',');\n\n      if (elements.length > 1) {\n        result = '{' + result + '}';\n      }\n\n      return result;\n    }\n\n    function buildFilters(filters) {\n      let result = '';\n      if (!filters) {\n        return '';\n      }\n      // Remove empty filters\n      filters = filters.filter(filter => filter.values && filter.values.length);\n\n      if (filters.length) {\n        for (let i = filters.length - 1; i >= 0; i--) {\n          const filter = filters[i];\n          if (i === filters.length - 1) {\n            result = getFilterPath(filter);\n            continue;\n          }\n\n          result = `NONEMPTYCROSSJOIN(${getFilterPath(filter)},${result})`;\n        }\n      }\n\n      return result;\n    }\n\n    function buildMeasures(measures) {\n      if (!measures || !measures.length) {\n        return '';\n      }\n\n      const measureString = typeof measures === 'string'\n        ? `[Measures].[${measures}]`\n        : measures.map(current => `[Measures].[${current}]`).join(',');\n\n      return '{' + measureString + '}';\n    }\n\n\n    function parseTwoDimensionalResponse(response, byRow) {\n      const result = [];\n      let columns = byRow ? response.Cols[1].tuples : response.Cols[0].tuples;\n      let rows = byRow ? response.Cols[0].tuples : response.Cols[1].tuples;\n      const data = response.Data;\n      const columnsLength = byRow ? rows.length : columns.length;\n\n      for (let i = 0; i < columns.length; i++) {\n        const column = columns[i].caption;\n        const columnData = [];\n        for (let j = 0; j < rows.length; j++) {\n          const row = rows[j].caption;\n\n          const rowIndex = byRow ? i : j;\n          const columnIndex = byRow ? j : i;\n          const value = data[columnsLength * rowIndex + columnIndex] || 0;\n          columnData.push([row, value]);\n        }\n\n        result.push({category: column, data: columnData});\n      }\n\n\n      return result;\n    }\n\n    function parseTreeDimensionalResponse(response, byRow) {\n      const result = [];\n      let columns = byRow ? response.Cols[1].tuples : response.Cols[0].tuples;\n      let rows = byRow ? response.Cols[0].tuples : response.Cols[1].tuples;\n      const data = response.Data;\n\n      columns = columns.reduce((array, current) => {\n        current.children.forEach(child => {\n          child.parent = current.caption;\n          array.push(child);\n        });\n        return array;\n      }, []);\n\n      const columnsLength = byRow ? rows.length : columns.length;\n\n      for (let i = 0; i < columns.length; i++) {\n        const column = columns[i].caption;\n        const columnData = [];\n        for (let j = 0; j < rows.length; j++) {\n          const row = rows[j].caption;\n\n          const rowIndex = byRow ? i : j;\n          const columnIndex = byRow ? j : i;\n          const value = data[columnsLength * rowIndex + columnIndex] || 0;\n          columnData.push([row, value]);\n        }\n\n        result.push({category: column, parent: columns[i].parent, data: columnData});\n      }\n\n\n      return result;\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Service.$inject = ['IrisUtils', '$filter', 'Utils'];\n\n  angular\n    .module('app')\n    .service('LoadDump', Service);\n\n  function Service(IrisUtils, $filter, Utils) {\n    return {\n      getLoadEvents,\n      getDumpEvents,\n      getGanttData\n    };\n\n    function loadEvent(eventType, trucks, date) {\n      const dateNumber = IrisUtils.getDateNumber(date);\n\n      const cols = [\n        {dimension: 'Truck', hierarchy: 'H1', hierarchyLevel: 'Name', members: 'Members'}\n      ];\n\n      const rowsArrive = [\n        {dimension: 'Time', hierarchy: 'H1', hierarchyLevel: 'TimeArriveMinute', members: 'Members'}\n      ];\n\n      const hierarchyLevel = eventType === 'LOAD' ? 'TimeFullMinute' : 'TimeDumpMinute';\n      const rowsEnd = [\n        {dimension: 'Time', hierarchy: 'H2', hierarchyLevel: hierarchyLevel, members: 'Members'}\n      ];\n\n      const filters = [\n        {dimension: 'Truck', hierarchy: 'H1', hierarchyLevel: 'Name', values: trucks.map(truck => truck.name)},\n        {dimension: 'Time', hierarchy: 'H1', hierarchyLevel: 'TIMEARRIVEDAY', values: [dateNumber]}\n      ];\n\n      const cubeName = eventType === 'LOAD' ? 'PRODUCTIONLOADEVENTSCUBE' : 'PRODUCTIONDUMPEVENTSCUBE';\n      let arriveQuery = IrisUtils.buildQuery(cubeName, cols, rowsArrive, null, filters);\n      let endQuery = IrisUtils.buildQuery(cubeName, cols, rowsEnd, null, filters);\n\n      let arriveData = [];\n      let endData = [];\n      return IrisUtils.executeQuery(arriveQuery)\n        .then(data => {\n          arriveData = data;\n          return IrisUtils.executeQuery(endQuery);\n        })\n        .then(data => {\n          endData = data;\n          return {\n            start: arriveData,\n            finish: endData\n          };\n        })\n        .catch(response => {\n          return Promise.reject(Utils.getHTTPError(response));\n        });\n    }\n\n    function getLoadEvents(trucks, date) {\n      return loadEvent('LOAD', trucks, date)\n        .catch(err => {\n          return Promise.reject(err);\n        });\n    }\n\n    function getDumpEvents(trucks, date) {\n      return loadEvent('DUMP', trucks, date)\n        .catch(err => {\n          return Promise.reject(err);\n        });\n    }\n\n\n    function getGanttData(trucks, date) {\n      const result = {\n        trucks: trucks.map(current => current.name),\n        data: {}\n      };\n\n      const names = {\n        load: 'Carga',\n        transitToDump: 'En transito a Descarga',\n        dump: 'Descarga',\n        transitToLoad: 'En transito a Carga'\n      };\n\n      const rawData = {\n        dump: {name: 'Descarga', data: []},\n        load: {name: 'Carga', data: []}\n      };\n\n      return getLoadEvents(trucks, date)\n        .then(data => {\n          rawData.load = data;\n          return getDumpEvents(trucks, date);\n        })\n        .then(data => {\n          rawData.dump = data;\n        })\n        .then(() => {\n          let temp = {};\n          for (let state in rawData) {\n            const start = rawData[state].start;\n            const finish = rawData[state].finish;\n\n            if (!start.Data || !start.Data.length) {\n              continue;\n            }\n\n            const trucks = start.Cols[0].tuples.map((current, index) => {\n              return {name: current.caption, data: {}, index: index};\n            });\n\n            const rowLength = trucks.length;\n            const startTimes = getTimes($filter('date')(date, 'dd-MM-yyyy'), start);\n            const finishTimes = getTimes($filter('date')(date, 'dd-MM-yyyy'), finish, true);\n            let currentIndexes = {};\n\n            trucks.forEach((truck, index) => {\n              temp[index] = temp[index] || {};\n              temp[index][state] = temp[index][state] || [];\n              currentIndexes[index] = getStartIndex(index, start.Data, finish.Data, startTimes, finishTimes, rowLength);\n            });\n\n            start.Data.forEach((value, index) => {\n              const truckIndex = index % rowLength;\n\n              if (!value || isNaN(currentIndexes[truckIndex])) {\n                return;\n              }\n\n              const startIndex = Math.floor(index / rowLength);\n\n              const finishIndex = getEndDateIndex(finish, truckIndex, rowLength, currentIndexes[truckIndex]);\n              if (finishIndex === -1) {\n                return;\n              }\n\n              currentIndexes[truckIndex] = finishIndex + 1;\n\n              temp[truckIndex][state].push({\n                start: startTimes[startIndex],\n                finish: finishTimes[finishIndex],\n                type: state\n              });\n            });\n          }\n\n          const filled = generateInBetweenState(temp);\n\n          for (let truckIndex in filled) {\n            for (let current of filled[truckIndex]) {\n              const type = current.type;\n              result.data[type] = result.data[type] || {\n                name: names[type],\n                data: [],\n                dimensions: ['truckIndex', 'start', 'finish']\n              };\n              result.data[type].data.push([parseInt(truckIndex), current.start, current.finish]);\n            }\n          }\n\n          return result;\n        })\n        .catch(err => {\n          return Promise.reject(err);\n        });\n    }\n\n    function getTimes(date, data, fixToEnd) {\n      const times = [];\n      data.Cols[1].tuples.forEach(current => {\n        const hour = current.caption;\n        const momentDate = moment(`${date} ${hour}:${fixToEnd ? '59' : '00'}`, 'DD-MM-YYYY HH:mm:ss');\n        times.push(momentDate.toDate().getTime());\n      });\n      return times;\n    }\n\n    function getStartIndex(truckIndex, startData, finishData, startTimes, finishTimes, rowLength) {\n      let startTimeIndex;\n\n      for (let i = 0; i < startData.length; i = i + rowLength) {\n        if (startData[i + truckIndex]) {\n          startTimeIndex = Math.floor(i / rowLength);\n          break;\n        }\n      }\n\n      if (isNaN(startTimeIndex)) {\n        return;\n      }\n\n      let startDate = startTimes[startTimeIndex];\n\n      let finishTimeIndex;\n      for (let i = 0; i < finishData.length; i = i + rowLength) {\n        let index = Math.floor(i / rowLength);\n        const time = finishTimes[index];\n        if (finishData[i + truckIndex] && time >= startDate) {\n          finishTimeIndex = index;\n          break;\n        }\n      }\n      return finishTimeIndex;\n    }\n\n    function getEndDateIndex(finish, truckIndex, rowLength, currentIndex) {\n      const start = currentIndex * rowLength;\n      for (let i = start; i < finish.Data.length; i = i + rowLength) {\n        if (finish.Data[i + truckIndex]) {\n          return Math.floor(i / rowLength);\n        }\n      }\n\n      return -1;\n    }\n\n    function generateInBetweenState(loadDumpData) {\n      const result = {};\n      const states = ['load', 'transitToDump', 'dump', 'transitToLoad'];\n      for (let truckIndex in loadDumpData) {\n        const loadAndDumps = [];\n        for (let state in loadDumpData[truckIndex]) {\n          Array.prototype.push.apply(loadAndDumps, loadDumpData[truckIndex][state]);\n        }\n\n        loadAndDumps.sort((a, b) => a.start === b.start && a.type === 'load' || a.start > b.start ? 1 : -1);\n        const filled = [];\n        for (let i = 0; i < loadAndDumps.length; i++) {\n          const current = loadAndDumps[i];\n          const next = loadAndDumps[i + 1];\n          if (!next) {\n            continue;\n          }\n\n          filled.push(current);\n          filled.push({\n            start: current.finish + 1000,\n            finish: next.start - 1000,\n            type: states[states.indexOf(current.type) + 1]\n          });\n        }\n\n        result[truckIndex] = filled;\n      }\n\n      return result;\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  TruckService.$inject = ['$http', 'IrisUtils', 'LoadDump', 'Utils'];\n\n  angular\n    .module('app')\n    .service('Truck', TruckService);\n\n  function TruckService($http, IrisUtils, LoadDump, Utils) {\n\n    return {\n      find,\n      getProduction\n    };\n\n    function find(date) {\n      const dateNumber = IrisUtils.getDateNumber(date);\n\n      const rows = [\n        {dimension: 'Truck', hierarchy: 'H1', hierarchyLevel: 'Name', members: 'Members'}\n      ];\n\n      const filters = [\n        {dimension: 'TIME', hierarchy: 'H1', hierarchyLevel: 'TIMEARRIVEDAY', values: [dateNumber]}\n      ];\n\n      let query = IrisUtils.buildQuery('PRODUCTIONLOADEVENTSCUBE', null, rows, null, filters);\n\n      return IrisUtils.executeQuery(query)\n        .then(data => {\n          if (!data.Cols || !data.Cols[1]) {\n            return [];\n          }\n\n          return data.Cols[1].tuples.map(current => {\n            return {name: current.caption, path: current.path, id: current.valueID};\n          });\n        });\n    }\n\n    function getProduction(trucks, date) {\n      const dateNumber = IrisUtils.getDateNumber(date);\n      const rows = [\n        {dimension: 'Time', hierarchy: 'H1', hierarchyLevel: 'TimeArriveHour', members: 'Members'}\n      ];\n\n      const filters = [\n        {dimension: 'Time', hierarchy: 'H1', hierarchyLevel: 'TIMEARRIVEDAY', values: [dateNumber]}\n      ];\n\n      let query = IrisUtils.buildQuery('PRODUCTIONDUMPEVENTSCUBE', trucks, rows, ['MeasuredTons'], filters);\n\n      return IrisUtils.executeQuery(query)\n        .then(responseData => {\n          const _data = responseData;\n\n          const result = [];\n          const columns = _data.Cols[0].tuples;\n          const rows = _data.Cols[1].tuples;\n          const data = _data.Data;\n\n          for (let colIndex = 0; colIndex < columns.length; colIndex++) {\n            const truck = columns[colIndex];\n            const current = {equipmentName: truck.caption, categories: [], values: []};\n            result.push(current);\n            for (let rowIndex = 0; rowIndex < rows.length; rowIndex++) {\n              const timeInterval = rows[rowIndex].caption;\n              let value = data[rowIndex * columns.length + colIndex];\n              value = isNaN(parseFloat(value)) ? 0 : parseFloat(value);\n\n              current.categories.push(timeInterval);\n              current.values.push(value);\n            }\n          }\n          return result;\n        });\n    }\n  }\n})();","(() => {\n  window.angular\n    .module('app')\n    .service('Utils', UtilsService);\n\n  function UtilsService() {\n    const textTester = document.getElementById('text-tester');\n\n    return {\n      getHTTPError,\n      getTextWidth\n    };\n\n    function getHTTPError(response) {\n      if (!response) {\n        return;\n      }\n      const error = new Error();\n      if (response.data) {\n        if (response.data.error) {\n          error.message = response.data.error.message;\n          error.code = response.data.error.code;\n        } else {\n          error.message = response.data;\n        }\n      } else {\n        error.message = response.message || 'An unknown error has occurred';\n        error.code = response.code || 'UNKNOWN_ERROR';\n      }\n\n      if (error.code === 'LOGIN_FAILED') {\n        delete response.resource;\n      }\n      return error;\n    }\n\n    function getTextWidth(text, cssClass, style) {\n      if (!text) {\n        return 0;\n      }\n\n      if (cssClass) {\n        textTester.classList.add(...cssClass.split(' '));\n      }\n      if (style && typeof style === 'object') {\n        for (let prop in style) {\n          textTester.style[prop] = style[prop];\n        }\n      }\n\n      textTester.textContent = text;\n      let width = textTester.offsetWidth;\n\n      textTester.className = '';\n      textTester.removeAttribute('style');\n      return width;\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  angular\n    .module('app')\n    .component('mineOperation', {\n      template:'<div class=\"marginT20 container-lg\"><ul class=\"nav nav-tabs nav-justified nav-tabs\"><li ui-sref-active=\"active\"><a ui-sref=\"mineOperation.oee\"><h3>OEE</h3></a></li><li ui-sref-active=\"active\"><a ui-sref=\"mineOperation.production\"><h3>Producción</h3></a></li><li ui-sref-active=\"active\"><a ui-sref=\"mineOperation.miningPlan\"><h3>Información de flota</h3></a></li></ul><div class=\"marginT20\"><ui-view></ui-view></div></div>'\n    });\n})();","(() => {\n  const angular = window.angular;\n\n  angular\n    .module('app')\n    .component('home', {\n      template:'<div class=\"container-lg\"><div style=\"margin-top: 50px\"><h2><strong>Aplicaciones</strong></h2></div><div class=\"home-shortcuts home-shortcuts\"><a class=\"shortcut\" ui-sref=\"mineOperation\"><div class=\"shortcut-content\"><div class=\"link-icon\"><img src=\"/assets/images/mine.svg\"></div><div class=\"link-text-wrapper\"><div class=\"link-text\">Operación Mina</div></div></div></a></div></div>',\n      controller: HomeController,\n      controllerAs: 'ctrl'\n    });\n\n  function HomeController() {\n    const vm = this;\n\n    vm.$onInit = function () {\n    };\n  }\n})();",";(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', '$element', 'Equipment', 'Utils'];\n\n  angular\n    .module('app')\n    .component('equipmentStatusDetailsChart', {\n      template:'<div style=\"position: relative\"><div ng-class=\"{transparent: !ctrl.status || ctrl.loading}\"><div class=\"chart chart-sm bar\"></div><hr><div class=\"chart chart-sm pie\"></div></div><div class=\"centered-message\" ng-show=\"!ctrl.status\"><h4 class=\"no-margin\">No se ha seleccionado un estado</h4></div><spinner show=\"ctrl.loading\"></spinner></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        from: '<',\n        to: '<',\n        categories: '<',\n        equipments: '<',\n        status: '<'\n      }\n    });\n\n  function Controller($root, $element, Equipment, utils) {\n    const vm = this;\n\n    let colors = echarts.customColors ? angular.copy(echarts.customColors) : undefined;\n    colors = colors ? colors.slice(4) : undefined;\n\n    vm.$onInit = function () {\n      const container = $element.find('.bar');\n      const pieContainer = $element.find('.pie');\n      vm.container = container[0];\n      vm.pieContainer = pieContainer[0];\n    };\n\n    vm.$onChanges = function () {\n      if (!vm.status || (!vm.categories || !vm.categories.length) && (!vm.equipments || !vm.equipments.length)) {\n        if (vm.chart) {\n          destroyCharts();\n        }\n        return;\n      }\n      loadData();\n    };\n\n    vm.$onDestroy = function () {\n      destroyCharts();\n    };\n\n    function destroyCharts() {\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n      if (vm.pieChart) {\n        echarts.dispose(vm.pieChart);\n      }\n    }\n\n    function loadData() {\n      vm.loading = true;\n      Equipment\n        .statusDetails(vm.from, vm.to, vm.categories, vm.equipments, vm.status)\n        .then(data => {\n          vm.loading = false;\n          plotCharts(data);\n        })\n        .catch(err => {\n          vm.loading = false;\n          console.log(err);\n        });\n    }\n\n    function plotCharts(data) {\n      const categoryStep = 5;\n      const categories = [];\n\n      for (let i = 0; i < 24 * 60; i += categoryStep) {\n        let hour = Math.floor(i / 60);\n        let minute = i % 60;\n\n        hour = ('0' + hour).slice(-2);\n        minute = ('0' + minute).slice(-2);\n        categories.push(`${hour}:${minute}`);\n      }\n\n      let series = [];\n      data.forEach(current => {\n        current.data.map(current => {\n          current[1] = Math.round(10 * current[1] / 12) / 10;\n          return current;\n        });\n        series.push({\n          name: current.category,\n          data: current.data,\n          type: 'bar',\n          stack: 'stack',\n          barWidth: '115%',\n          sum: current.data.reduce((sum, current) => current[1] + sum, 0)\n        });\n      });\n\n      const longestSeriesName = series.reduce((result, current) => {\n        result.name = current.name.length > result.name.length ? current.name : result.name;\n        return result;\n      }, {name: ''}).name;\n\n      const paddingRight = Math.ceil(utils.getTextWidth(longestSeriesName, '', {fontSize: '10px'})) + 45;\n\n      const option = {\n        color: colors,\n        tooltip: {},\n        grid: {\n          left: 80,\n          top: 60,\n          right: paddingRight,\n          bottom: 60\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {fontSize: 11},\n          name: 'Duración Parcial',\n          nameLocation: 'center',\n          nameGap: 50,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {fontSize: 11},\n          name: 'Hora del día',\n          nameLocation: 'center',\n          nameGap: 30,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        series: series,\n        legend: {\n          type: 'scroll',\n          orient: 'vertical',\n          right: 0,\n          top: 10,\n          textStyle: {\n            fontSize: 10\n          },\n          data: series.map(current => current.name)\n        }\n      };\n\n\n      vm.chart = resetChart(vm.chart, vm.container, option);\n\n      const pieSeries = {\n        type: 'pie',\n        name: 'pie',\n        radius: '60%',\n        label: {\n          formatter: '{d}%'\n        },\n        startAngle: 0,\n        data: series.map(current => {\n          return {name: current.name, value: Math.round(current.sum * 10) / 10};\n        })\n      };\n\n      const total = pieSeries.data.reduce((sum, current) => sum + current.value, 0);\n\n      pieSeries.data.forEach(current => {\n        current.value = Math.round(10000 * current.value / total) / 100;\n      });\n\n      pieSeries.data.sort((a, b) => b.value - a.value);\n      if (pieSeries.data.length >= 15) {\n        const data = [];\n\n        pieSeries.data.forEach(current => {\n          if (data.length < 15 && current.value >= 1) {\n            data.push(current);\n          }\n        });\n\n        pieSeries.data = data;\n        const totalPercent = pieSeries.data.reduce((sum, current) => sum + current.value, 0);\n        if (totalPercent < 100) {\n          pieSeries.data.push({\n            name: 'Otros', value: 100 - totalPercent\n          });\n        }\n      }\n\n      vm.pieChart = resetChart(vm.pieChart, vm.pieContainer, {\n        color: colors,\n        title: {text: 'Estadística', left: 'center'},\n        tooltip: {\n          formatter: function (a, b, c) {\n            console.log(a, b, c);\n            return 'test';\n          }\n        },\n        legend: {\n          orient: 'vertical',\n          left: 10,\n          type: 'scroll',\n          textStyle: {\n            fontSize: 10\n          }\n        },\n        series: [pieSeries]\n      });\n    }\n\n\n    function resetChart(chart, container, options) {\n      if (chart) {\n        echarts.dispose(chart);\n      }\n\n      if (!chart || chart.isDisposed()) {\n        chart = echarts.init(container, 'custom');\n      }\n\n      chart.clear();\n      chart.setOption(options);\n      chart.resize();\n\n      return chart;\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', '$timeout', '$element', 'Equipment', 'Utils', 'DateUtils', '$filter'];\n\n  angular\n    .module('app')\n    .component('lessProductiveEquipmentsChart', {\n      template:'<div class=\"panel panel-light\"><div class=\"panel-heading\"><div>Producción por equipo</div><small style=\"font-size: 70%\">{{ctrl.from | date: \\'dd-MM-yyyy\\'}}</small></div><div class=\"chart chart-{{ctrl.size}}\" ng-class=\"{transparent: false}\"></div><spinner show=\"ctrl.loading\"></spinner></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        from: '<',\n        to: '<',\n        categories: '<',\n        color: '<',\n        maxCategories: '<',\n        size: '<',\n        onChartClick: '&'\n      }\n    });\n\n  function Controller($root, $timeout, $element, Equipment, Utils, DateUtils, $filter, OEE) {\n    const vm = this;\n    vm.$onInit = function () {\n      const container = $element.find('.chart');\n      vm.maxCategories = vm.maxCategories || 10;\n\n      vm.container = container[0];\n      loadData();\n    };\n\n    vm.$onChanges = function () {\n      if (!vm.container) {\n        return;\n      }\n\n      loadData();\n    };\n\n    vm.$onDestroy = function () {\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n    };\n\n    function loadData() {\n      vm.loading = true;\n      Equipment\n        .statusData(vm.from, vm.to, vm.categories, null, 'equipment')\n        .then(data => {\n          vm.loading = false;\n          plotChart(data);\n        })\n        .catch(err => {\n          vm.loading = false;\n          console.log(err);\n        });\n    }\n\n    function plotChart(data) {\n      const seriesData = {};\n      data = data.map(current => {\n        const sum = current.data.reduce((sum, pair) => sum + pair[1], 0);\n        const result = {category: current.category, data: {}};\n        current.data.forEach(pair => {\n          result.data[pair[0]] = sum !== 0 ? Math.round(1000 * pair[1] / sum) / 10 : null;\n        });\n        return result;\n      });\n\n      data.sort((a, b) => {\n        if (b.data.Downtime === 100 || a.data.Downtime === 100) {\n          return b.data.Downtime - a.data.Downtime;\n        }\n        if (a.data.Operative !== b.data.Operative) {\n          return b.data.Operative - a.data.Operative;\n        }\n\n        if (a.data.Delay !== b.data.Delay) {\n          return b.data.Delay - a.data.Delay;\n        }\n\n        if (a.data.Standby !== b.data.Standby) {\n          return b.data.Standby - a.data.Standby;\n        }\n\n        return b.data.Downtime - a.data.Downtime;\n      });\n      // data = data.slice(0, vm.maxCategories);\n\n      let longestName = '';\n      data.forEach(current => {\n        longestName = current.category.length > longestName.length ? current.category : longestName;\n        Object.keys(current.data).forEach(status => {\n          seriesData[status] = seriesData[status] || [];\n          const value = current.data[status];\n          if (value !== null) {\n            seriesData[status].push([value, current.category]);\n          }\n        });\n      });\n\n      const series = [];\n      for (let seriesId in seriesData) {\n        series.push({\n          id: seriesId,\n          name: seriesId,\n          data: seriesData[seriesId],\n          type: 'bar',\n          barWidth: '50%',\n          stack: 'stack',\n          animation: false\n        });\n      }\n\n      const zoomStart = getZoomStart(data.length);\n      const paddingLeft = Math.ceil(Utils.getTextWidth(longestName, '', {fontSize: '11px'})) + 30;\n\n      let option = {\n        tooltip: {},\n        legend: {\n          textStyle: {\n            fontSize: 10\n          }\n        },\n        dataZoom: [{\n          type: 'slider',\n          yAxisIndex: 0,\n          zoomLock: true,\n          width: 25,\n          right: 10,\n          start: zoomStart,\n          end: 100,\n          handleSize: 0,\n          showDetail: false\n        }],\n        grid: {\n          left: paddingLeft + 40,\n          top: 30,\n          right: 40,\n          bottom: 40\n        },\n        xAxis: {\n          type: 'value',\n          axisLabel: {fontSize: 11, show: true},\n          name: '% de tiempo',\n          nameLocation: 'center',\n          min: 0,\n          max: 100,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        yAxis: {\n          type: 'category',\n          axisLabel: {fontSize: 11, show: true},\n          name: 'Equipo',\n          nameLocation: 'center',\n          nameGap: paddingLeft,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        series: series\n      };\n\n\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n\n      if (!vm.chart || vm.chart.isDisposed()) {\n        vm.chart = echarts.init(vm.container, 'custom');\n        vm.chart.on('click', onClick);\n      }\n\n      vm.chart.clear();\n      vm.chart.setOption(option);\n      vm.chart.resize();\n    }\n\n    function onClick(params) {\n      if (typeof vm.onChartClick === 'function') {\n        $timeout(() => {\n          vm.onChartClick({params: params, from: vm.from, to: vm.to});\n        });\n      }\n    }\n\n    function getZoomStart(equipmentLength) {\n      const containerHeight = vm.container.offsetHeight;\n      const visibleBars = Math.floor((containerHeight - 150) / 30);\n      if (visibleBars >= equipmentLength) {\n        return 0;\n      }\n      return 100 * (1 - visibleBars / equipmentLength);\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', '$timeout', '$element', 'Equipment', 'Utils', 'DateUtils'];\n\n  angular\n    .module('app')\n    .component('operationSeagullChart', {\n      template:'<div style=\"position: relative\"><div class=\"chart chart-{{ctrl.size}}\" ng-class=\"{transparent: false}\"></div><spinner show=\"ctrl.loading\"></spinner></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        from: '<',\n        to: '<',\n        categories: '<',\n        equipments: '<',\n        size: '<',\n        onChartClick: '&',\n        isLoading: '='\n      }\n    });\n\n  function Controller($root, $timeout, $element, Equipment, Utils, DateUtils, $filter) {\n    const vm = this;\n    vm.$onInit = function () {\n      const container = $element.find('.chart');\n      vm.containerHeight = container.height();\n      vm.container = container[0];\n      loadData();\n    };\n\n    vm.$onChanges = function () {\n      if (!vm.container) {\n        return;\n      }\n\n      loadData();\n    };\n\n    vm.$onDestroy = function () {\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n    };\n\n    function loadData() {\n      if ((!vm.categories || !vm.categories.length) && (!vm.equipments || !vm.equipments.length)) {\n        if (vm.chart) {\n          echarts.dispose(vm.chart);\n        }\n        return;\n      }\n\n\n      vm.loading = true;\n      if (typeof vm.isLoading !== 'undefined') {\n        vm.isLoading = vm.loading;\n      }\n      Equipment\n        .statusData(vm.from, vm.to, vm.categories, vm.equipments)\n        .then(data => {\n          vm.loading = false;\n          if (typeof vm.isLoading !== 'undefined') {\n            vm.isLoading = vm.loading;\n          }\n          plotChart(data);\n        })\n        .catch(err => {\n          vm.loading = false;\n          if (typeof vm.isLoading !== 'undefined') {\n            vm.isLoading = vm.loading;\n          }\n          console.log(err);\n        });\n    }\n\n    function plotChart(data) {\n      const categoryStep = 5;\n      const categories = [];\n\n      for (let i = 0; i < 24 * 60; i += categoryStep) {\n        let hour = Math.floor(i / 60);\n        let minute = i % 60;\n\n        hour = ('0' + hour).slice(-2);\n        minute = ('0' + minute).slice(-2);\n        categories.push(`${hour}:${minute}`);\n      }\n\n      const defaultSeries = {\n        data: [],\n        type: 'bar',\n        stack: 'stack',\n        barWidth: '115%'\n      };\n\n      let series = {};\n      ['Operative', 'Delay', 'Standby', 'Downtime'].forEach(current => {\n        series[current] = angular.copy(defaultSeries);\n        series[current].name = current;\n      });\n\n      data.forEach(current => {\n        const minute = current.category;\n        const total = current.data.reduce((sum, current) => current[1] + sum, 0);\n        for (const pair of current.data) {\n          series[pair[0]].data.push([minute, Math.round(10000 * pair[1] / total) / 100]);\n          // series[pair[0]].data.push([minute, pair[1]]);\n        }\n      });\n\n      series = Object.keys(series).map(current => series[current]);\n      const option = {\n        tooltip: {},\n        grid: {\n          left: 80,\n          top: 50,\n          right: 20,\n          bottom: 60\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {fontSize: 11},\n          name: 'Porcentaje de tiempo',\n          nameLocation: 'center',\n          nameGap: 50,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {fontSize: 11},\n          name: 'Hora del día',\n          nameLocation: 'center',\n          nameGap: 30,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        series: series,\n        legend: {\n          show: true,\n          selectedMode: false,\n          padding: [20, 0, 0, 0],\n          data: series.map(current => current.name)\n        }\n      };\n\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n\n      if (!vm.chart || vm.chart.isDisposed()) {\n        vm.chart = echarts.init(vm.container, 'custom');\n        vm.chart.on('click', onClick);\n      }\n\n      vm.chart.clear();\n      vm.chart.setOption(option);\n      vm.chart.resize();\n    }\n\n    function onClick(params) {\n      if (typeof vm.onChartClick === 'function') {\n        $timeout(() => {\n          vm.onChartClick({params: params, from: vm.from, to: vm.to});\n        });\n      }\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  angular\n    .module('app')\n    .component('moMiningPlan', {\n      template:'<div><div class=\"content\"><ui-view></ui-view></div></div>'\n    });\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', 'OEE', '$transitions'];\n\n  angular\n    .module('app')\n    .component('oeeDefaultFilter', {\n      template:'<div class=\"form-group\"><label>Desde</label> <input type=\"text\" class=\"form-control\" readonly ng-disabled=\"ctrl.loading\" style=\"background: #fff\" enable-time=\"false\" datetime-picker=\"dd-MM-yyyy\" is-open=\"ctrl.dates.from.open\" datepicker-options=\"ctrl.dates.options\" ng-click=\"ctrl.dates.from.open = !ctrl.dates.from.open\" when-closed=\"ctrl.dates.onClose(args)\" ng-model=\"ctrl.dates.from.value\"></div><div class=\"form-group\"><label>Hasta</label> <input type=\"text\" class=\"form-control\" readonly ng-disabled=\"ctrl.loading\" style=\"background: #fff\" enable-time=\"false\" datetime-picker=\"dd-MM-yyyy\" is-open=\"ctrl.dates.to.open\" datepicker-options=\"ctrl.dates.options\" ng-click=\"ctrl.dates.to.open = !ctrl.dates.to.open\" when-closed=\"ctrl.dates.onClose(args)\" ng-model=\"ctrl.dates.to.value\"></div><div class=\"form-group clearfix\"><label>Categorias</label><multi-select-dropdown items=\"ctrl.categories\" disabled=\"ctrl.loading\" on-select=\"ctrl.loadEquipments()\" selected-items=\"ctrl.selectedCategories\"></multi-select-dropdown></div><div class=\"form-group clearfix\"><label>Equipos</label><multi-select-dropdown items=\"ctrl.equipments\" disabled=\"ctrl.loading\" selected-items=\"ctrl.selectedEquipements\"></multi-select-dropdown></div><hr><div><button class=\"btn btn-primary btn-block\" ng-click=\"ctrl.applyFilters()\">Filtrar</button></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller($root, OEE, $transitions) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.applyFilters = applyFilters;\n      vm.loadEquipments = loadEquipments;\n\n      vm.dates = {\n        from: {value: new Date('2017/12/31'), open: false},\n        to: {value: new Date('2018/01/05'), open: false},\n        options: {showWeeks: false, showMeridian: false},\n        onClose: function (args) {\n          loadCategories();\n        }\n      };\n\n      loadCategories()\n        .then(() => {\n          applyFilters();\n        });\n\n      vm.offSuccess = $transitions.onSuccess({}, transition => {\n        applyFilters();\n      });\n    };\n\n    vm.$onDestroy = function () {\n      vm.offSuccess();\n    };\n\n    function loadCategories() {\n      if (vm.prevFrom && vm.prevFrom.getTime() === vm.dates.from.value.getTime() &&\n        vm.prevTo && vm.prevTo.getTime() === vm.dates.to.value.getTime()) {\n        return;\n      }\n\n      vm.loading = true;\n      vm.prevFrom = vm.dates.from.value;\n      vm.prevTo = vm.dates.to.value;\n\n      return OEE\n        .categories(vm.dates.from.value, vm.dates.to.value)\n        .then(categories => {\n          vm.categories = categories || [];\n\n          const truckCategory = vm.categories.find(current => current.name === 'Camion');\n\n          if (truckCategory) {\n            vm.selectedCategories = [truckCategory];\n          } else {\n            vm.selectedCategories = vm.categories.length ? [vm.categories[0]] : [];\n          }\n          loadEquipments(true);\n        })\n        .then(equipments => {\n          vm.loading = false;\n        })\n        .catch(err => {\n          console.log(err);\n          vm.loading = false;\n        });\n    }\n\n    function loadEquipments(notShowLoading) {\n      if (!vm.selectedCategories.length) {\n        vm.equipments = [];\n        vm.selectedEquipements = [];\n        return;\n      }\n\n      if (!notShowLoading) {\n        vm.loading = true;\n      }\n      return OEE.equipments(vm.dates.from.value, vm.dates.to.value, vm.selectedCategories)\n        .then(equipments => {\n          vm.equipments = equipments || [];\n          vm.selectedEquipements = [];\n          if (!notShowLoading) {\n            vm.loading = false;\n          }\n        })\n        .catch(err => {\n          console.log(err);\n          if (!notShowLoading) {\n            vm.loading = false;\n          }\n        });\n    }\n\n    function applyFilters() {\n      $root.$emit('filter:update', {\n        from: vm.dates.from.value,\n        to: vm.dates.to.value,\n        categories: vm.selectedCategories,\n        equipments: vm.selectedEquipements\n      });\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', '$element', '$timeout', '$compile', '$transitions', '$state'];\n\n  angular\n    .module('app')\n    .component('moOee', {\n      template:'<div class=\"left-content\"><ul class=\"nav nav-tabs nav-justified nav-tabs secondary\"><li ui-sref-active=\"active\"><a ui-sref=\"mineOperation.oee.overview\"><h4>Resumen</h4></a></li><li ui-sref-active=\"active\"><a ui-sref=\"mineOperation.oee.utilization\"><h4>Utilización</h4></a></li><li ui-sref-active=\"active\"><a ui-sref=\"mineOperation.oee.capacityPerformance\"><h4>Performance Capacidad</h4></a></li><li ui-sref-active=\"active\"><a ui-sref=\"mineOperation.oee.timePerformance\"><h4>Performance Tiempo</h4></a></li></ul><div class=\"content\"><ui-view></ui-view></div></div><div class=\"side-panel side-panel-right\"><div class=\"panel panel-filter\"><div class=\"panel-heading\">Panel</div><div class=\"panel-body\"><div class=\"filters-target\"></div></div></div></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller($root, $element, $timeout, $compile, $transitions, $state) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.filterTarget = $element.find('.filters-target');\n      vm.offSuccess = $transitions.onSuccess({}, transition => {\n        displayFilters();\n      });\n\n      displayFilters();\n    };\n\n    vm.$onDestroy = function () {\n      vm.offSuccess()\n    }\n\n    function displayFilters() {\n      const tagName = 'oee-default-filter';\n      vm.currentTagName = tagName;\n\n      if (vm.filterScope) {\n        vm.filterScope.$destroy();\n        vm.filterTarget.empty();\n      }\n\n      $timeout(() => {\n        vm.filterScope = $root.$new(true);\n        vm.filterTarget.append($compile(`<${tagName}></${tagName}>`)(vm.filterScope));\n      }, 200);\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Service.$inject = ['IrisUtils', 'Utils', '$rootScope', '$q'];\n\n  angular\n    .module('app')\n    .service('OEE', Service);\n\n  function Service(IrisUtils, Utils, $root, $q) {\n    const cache = {\n      days: {},\n      hours: {},\n      minutes: {}\n    };\n\n    return {\n      categories,\n      equipments,\n      listenFilters,\n      loadDataAsDays,\n      loadDataAsHours,\n      loadDataAsMinutes\n    };\n\n    function listenFilters(type) {\n      let vars = {};\n      vars.offFilters = $root.$on('filter:update', (e, filters) => {\n        filters = angular.copy(filters);\n        vars.from = filters.from;\n        vars.to = filters.to;\n        vars.categories = filters.categories;\n        vars.equipments = filters.equipments;\n\n        if (!vars.categories || !vars.categories.length) {\n          return {};\n        }\n\n        vars.loading = true;\n        loadDataAsDays(vars.from, vars.to, type, vars.categories, vars.equipments)\n          .then(result => {\n            vars.loading = false;\n            vars.data = result;\n          })\n          .catch(err => {\n            vars.loading = false;\n            console.log(err);\n          });\n      });\n      return vars;\n    }\n\n    function categories(from, to) {\n      const fromNumber = IrisUtils.getDateNumber(from);\n      const toNumber = IrisUtils.getDateNumber(to);\n\n      const rows = [\n        {dimension: 'Equipment', hierarchy: 'H1', hierarchyLevel: 'EQUIPMENTCATEGORY', members: 'Members'}\n      ];\n\n      let dates = fromNumber;\n      if (fromNumber !== toNumber) {\n        dates = [fromNumber, toNumber];\n      }\n\n      const filters = [{\n        dimension: 'EventDateTime',\n        hierarchy: 'H1',\n        hierarchyLevel: 'EventDateTimeDay',\n        values: [dates]\n      }];\n\n      let query = IrisUtils.buildQuery('UNIFIEDEVENTSCUBE', null, rows, null, filters);\n\n      return IrisUtils.executeQuery(query)\n        .then(data => {\n          return data.Cols[1].tuples.map(current => {\n            return {name: current.caption, path: current.path, id: current.valueID};\n          });\n        });\n    }\n\n    function equipments(from, to, category) {\n      const fromNumber = IrisUtils.getDateNumber(from);\n      const toNumber = IrisUtils.getDateNumber(to);\n\n      const rows = [\n        {dimension: 'Equipment', hierarchy: 'H1', hierarchyLevel: 'EQUIPMENTNAME', members: 'Members'}\n      ];\n\n      let dates = fromNumber;\n      if (fromNumber !== toNumber) {\n        dates = [fromNumber, toNumber];\n      }\n\n      const categories = Array.isArray(category) ? category.map(current => current.name) : [category.name];\n\n      const filters = [{\n        dimension: 'EventDateTime',\n        hierarchy: 'H1',\n        hierarchyLevel: 'EventDateTimeDay',\n        values: [dates]\n      }, {\n        dimension: 'Equipment',\n        hierarchy: 'H1',\n        hierarchyLevel: 'EQUIPMENTCATEGORY',\n        values: categories\n      }];\n\n      let query = IrisUtils.buildQuery('UNIFIEDEVENTSCUBE', null, rows, null, filters);\n\n      return IrisUtils.executeQuery(query)\n        .then(data => {\n          return data.Cols[1].tuples.map(current => {\n            return {name: current.caption, path: current.path, id: current.valueID};\n          });\n        });\n    }\n\n    function loadDataAsDays(from, to, type, categories, equipments) {\n      return loadData('EventDateTimeDay', from, to, type, categories, equipments);\n    }\n\n    function loadDataAsHours(from, to, type, categories, equipments) {\n      return loadData('EventDateTimeHour', from, from, type, categories, equipments);\n    }\n\n    function loadDataAsMinutes(from, hour, type, categories, equipments) {\n      from = new Date(from.getTime());\n      from.setHours(hour);\n      return loadData('EventDateTimeMinute', from, from, type, categories, equipments);\n    }\n\n    function loadData(timeInterval, from, to, type, categories, equipments) {\n      const cube = 'UNIFIEDEVENTSCUBE';\n      const fromNumber = IrisUtils.getDateNumber(from);\n      const toNumber = IrisUtils.getDateNumber(to);\n\n      const columns = [{\n        path: `[MEMBERDIMENSION].allMembers`\n      }];\n\n      const rows = [\n        {dimension: 'EventDateTime', hierarchy: 'H1', hierarchyLevel: timeInterval, members: 'Members'}\n      ];\n\n      let dates = fromNumber;\n      if (fromNumber !== toNumber) {\n        dates = [fromNumber, toNumber];\n      }\n\n      const filters = [[]];\n\n      if (equipments && equipments.length) {\n        filters[0].push({\n          dimension: 'EQUIPMENT',\n          hierarchy: 'H1',\n          hierarchyLevel: 'EQUIPMENTNAME',\n          values: equipments.map(current => current.name)\n        });\n      } else {\n        filters[0].push({\n          dimension: 'EQUIPMENT',\n          hierarchy: 'H1',\n          hierarchyLevel: 'EQUIPMENTCATEGORY',\n          values: categories.map(current => current.name)\n        });\n      }\n\n      filters[0].push({\n        dimension: 'EventDateTime',\n        hierarchy: 'H1',\n        hierarchyLevel: 'EventDateTimeDay',\n        values: [dates]\n      });\n\n      if (timeInterval === 'EventDateTimeMinute') {\n        filters[0].push({\n          dimension: 'EventDateTime',\n          hierarchy: 'H1',\n          hierarchyLevel: 'EventDateTimeHour',\n          values: [from.getHours()]\n        });\n      }\n\n      let query = IrisUtils.buildQuery(cube, columns, rows, null, filters);\n      cache[timeInterval] = cache[timeInterval] || {};\n      if (cache[timeInterval].data && cache[timeInterval].query === query) {\n        if (type) {\n          return $q.resolve(cache[timeInterval].data.filter(current => current.category === type));\n        }\n        return $q.resolve(cache[timeInterval].data);\n      }\n\n      return IrisUtils.executeQuery(query)\n        .then(result => {\n          cache[timeInterval].query = query;\n          const data = IrisUtils.parseTwoDimensionalResponse(result);\n          cache[timeInterval].data = data;\n          if (type) {\n            return data.filter(current => current.category === type);\n          }\n          return data;\n        })\n        .catch(response => {\n          return Promise.reject(Utils.getHTTPError(response));\n        });\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', 'Truck', '$transitions'];\n\n  angular\n    .module('app')\n    .component('prodDefaultFilter', {\n      template:'<div class=\"form-group\"><label>Fecha</label> <input type=\"text\" class=\"form-control\" readonly ng-disabled=\"ctrl.loading\" style=\"background: #fff\" enable-time=\"false\" datetime-picker=\"dd-MM-yyyy\" is-open=\"ctrl.day.open\" datepicker-options=\"ctrl.day.options\" ng-click=\"ctrl.day.open = !ctrl.day.open\" when-closed=\"ctrl.day.onClose(args)\" ng-model=\"ctrl.day.value\"></div><div class=\"form-group clearfix\"><label>Camiones</label><multi-select-dropdown items=\"ctrl.trucks\" on-select=\"ctrl.onSelectTruck()\" selected-items=\"ctrl.selectedTrucks\"></multi-select-dropdown></div><hr><div><button class=\"btn btn-primary btn-block\" ng-click=\"ctrl.applyFilters()\">Filtrar</button></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller($root, Truck, $transitions) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.applyFilters = applyFilters;\n\n      vm.day = {\n        value: new Date('2018/01/01'),\n        open: false,\n        options: {\n          showWeeks: false,\n          showMeridian: false\n        },\n        onClose: function (args) {\n          loadTrucks();\n        }\n      };\n\n      loadTrucks()\n        .then(() => {\n          applyFilters();\n        });\n\n      vm.offSuccess = $transitions.onSuccess({}, transition => {\n        applyFilters();\n      });\n    };\n\n    vm.$onDestroy = function () {\n      vm.offSuccess();\n    };\n\n    function loadTrucks() {\n      vm.loading = true;\n      return Truck\n        .find(vm.day.value)\n        .then(trucks => {\n          vm.trucks = trucks;\n          vm.selectedTrucks = vm.trucks.slice(0, 4);\n          vm.loading = false;\n        })\n        .catch(err => {\n          console.log(err);\n          vm.loading = false;\n        });\n    }\n\n    function applyFilters() {\n      $root.$emit('filter:update', {\n        date: vm.day.value,\n        trucks: vm.selectedTrucks\n      });\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', '$timeout', '$element', '$compile', '$transitions', '$state'];\n\n  angular\n    .module('app')\n    .component('moProduction', {\n      template:'<div class=\"left-content\"><ul class=\"nav nav-tabs nav-justified nav-tabs secondary\"><li ui-sref-active=\"active\"><a ui-sref=\"mineOperation.production.realtime\"><h4>Tiempo Real</h4></a></li><li ui-sref-active=\"active\"><a ui-sref=\"mineOperation.production.ranking\"><h4>Análisis de flota</h4></a></li><li ui-sref-active=\"active\"><a ui-sref=\"mineOperation.production.compliance\"><h4>Cumplimiento</h4></a></li></ul><div class=\"content\"><ui-view></ui-view></div></div><div class=\"side-panel side-panel-right\"><div class=\"panel panel-filter\"><div class=\"panel-heading\">Panel</div><div class=\"panel-body\"><div class=\"filters-target\"></div></div></div></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller($root, $timeout, $element, $compile, $transitions, $state) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.filterTarget = $element.find('.filters-target');\n      vm.offSuccess = $transitions.onSuccess({}, transition => {\n        displayFilters();\n      });\n\n      displayFilters();\n    };\n\n    vm.$onDestroy = function () {\n      vm.offSuccess();\n      if (vm.filterScope) {\n        vm.filterScope.$destroy();\n      }\n    };\n\n    function displayFilters() {\n      const currentState = $state.current;\n\n      const filtersMap = {\n        'mineOperation.production.ranking': 'equipment-rank-filter'\n      };\n\n      const tagName = filtersMap[currentState.name] || 'prod-default-filter';\n      if (vm.currentTagName === tagName) {\n        return;\n      }\n\n      vm.currentTagName = tagName;\n\n      if (vm.filterScope) {\n        vm.filterScope.$destroy();\n        vm.filterTarget.empty();\n      }\n\n      $timeout(() => {\n        vm.filterScope = $root.$new(true);\n        vm.filterTarget.append($compile(`<${tagName}></${tagName}>`)(vm.filterScope));\n      }, 200);\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$element'];\n\n  angular\n    .module('app')\n    .component('miningPlanIndex', {\n      template:'<div><div class=\"panel panel-light\"><div class=\"panel-heading\">Detalles Flota</div><table class=\"table table-hover marginB0\"><thead><tr><th><strong>Total de Equipos</strong></th><th>202</th></tr></thead><tbody><tr><td>Aljibe</td><td>7</td></tr><tr><td>Camión</td><td>111</td></tr><tr><td>Carguio</td><td>15</td></tr><tr><td>Chancado</td><td>3</td></tr><tr><td>Combus. y Lub.</td><td>4</td></tr><tr><td>Moto.Niv.</td><td>11</td></tr><tr><td>Perforadora</td><td>12</td></tr><tr><td>Retroexcavadora</td><td>8</td></tr><tr><td>Tow Haul</td><td>3</td></tr><tr><td>Tractor Neumaticos</td><td>13</td></tr><tr><td>Tractor Orugas</td><td>15</td></tr></tbody></table></div><div class=\"panel panel-light marginB0\"><div class=\"panel-heading\">Listado de equipos</div><div class=\"panel-body\"><table class=\"table table-hover marginB0\" id=\"equipment-table\"></table></div></div></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller($element) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      const equipmentTable = $element.find('#equipment-table');\n\n      createEquipmentTable(equipmentTable, getEquipments());\n    };\n\n    vm.$onDestroy = function () {\n      vm.equipmentTable.destroy();\n    };\n\n    function createEquipmentTable(table, equipments) {\n      vm.equipmentTable = table.DataTable({\n        data: equipments,\n        searching: false,\n        paging: false,\n        lengthChange: false,\n        scrollY: 600,\n        destroy: true,\n        order: [],\n        columnDefs: [\n          {targets: '_all', searchable: false}\n        ],\n        columns: [\n          {title: 'Flota'},\n          {title: 'Nombre'},\n          {title: 'Modelo'},\n          {title: 'Tonelaje'},\n          {title: 'Última actividad'}\n        ]\n      });\n    }\n\n    function getEquipments() {\n      return [\n        ['Aljibe', 'CR05', 'Komatsu HD785', '0', '31-12-2018 7:41'],\n        ['Aljibe', 'CR04', 'Komatsu HD785', '0', '30-12-2018 10:23'],\n        ['Aljibe', 'CR07', 'Komatsu HD785', '0', '31-12-2018 7:45'],\n        ['Aljibe', 'CR06', 'Komatsu HD785', '0', '30-12-2018 13:24'],\n        ['Aljibe', 'CR09', 'Komatsu HD785', '0', '31-12-2018 7:41'],\n        ['Aljibe', 'CR10', 'Otros', '0', '28-12-2018 22:02'],\n        ['Aljibe', 'CR08', 'Komatsu HD785', '0', '31-12-2018 7:46'],\n        ['Camion', 'CA122', 'KMS-930 E3', '300', '31-12-2018 7:45'],\n        ['Camion', 'CA100', 'KMS-930 E3', '300', '31-12-2018 7:57'],\n        ['Camion', 'CA77', 'KMS-930 E3', '300', '31-12-2018 5:33'],\n        ['Camion', 'CA55', 'KMS-930 E3', '300', '31-12-2018 7:57'],\n        ['Camion', 'CA83', 'KMS-930 E3', '300', '31-12-2018 7:53'],\n        ['Camion', 'CA148', 'LBH T282C', '373', '31-12-2018 5:35'],\n        ['Camion', 'CA75', 'KMS-930 E3', '300', '31-12-2018 5:25'],\n        ['Camion', 'CA140', 'KMS-930 E3', '300', '31-12-2018 5:31'],\n        ['Camion', 'CA150', 'KMS-930 E3', '300', '31-12-2018 7:45'],\n        ['Camion', 'CA164', 'KMS-930 E3', '300', '31-12-2018 7:42'],\n        ['Camion', 'CA114', 'KMS-930 E3', '300', '31-12-2018 7:56'],\n        ['Camion', 'CA124', 'KMS-930 E3', '300', '31-12-2018 7:54'],\n        ['Camion', 'CA133', 'KMS-930 E3', '300', '31-12-2018 5:47'],\n        ['Camion', 'CA153', 'KMS-930 E3', '300', '31-12-2018 7:58'],\n        ['Camion', 'CA145', 'KMS-930 E3', '300', '30-12-2018 2:02'],\n        ['Camion', 'CA130', 'KMS-930 E3', '300', '31-12-2018 7:11'],\n        ['Camion', 'CA93', 'KMS-930 E3', '300', '31-12-2018 5:35'],\n        ['Camion', 'CA84', 'KMS-930 E3', '300', '31-12-2018 7:54'],\n        ['Camion', 'CA88', 'KMS-930 E3', '300', '31-12-2018 7:54'],\n        ['Camion', 'CA69', 'KMS-930 E3', '300', '31-12-2018 6:37'],\n        ['Camion', 'CA138', 'KMS-930 E3', '300', '31-12-2018 7:48'],\n        ['Camion', 'CA151', 'KMS-930 E3', '300', '31-12-2018 7:57'],\n        ['Camion', 'CA103', 'KMS-930 E3', '300', '31-12-2018 7:56'],\n        ['Camion', 'CA113', 'KMS-930 E3', '300', '31-12-2018 7:49'],\n        ['Camion', 'CA121', 'KMS-930 E3', '300', '30-12-2018 12:31'],\n        ['Camion', 'CA156', 'KMS-930 E3', '300', '31-12-2018 7:56'],\n        ['Camion', 'CA64', 'KMS-930 E3', '300', '30-12-2018 21:39'],\n        ['Camion', 'CA79', 'KMS-930 E3', '300', '31-12-2018 7:59'],\n        ['Camion', 'CA59', 'KMS-930 E3', '300', '31-12-2018 7:51'],\n        ['Camion', 'CA81', 'KMS-930 E3', '300', '31-12-2018 7:59'],\n        ['Camion', 'CA68', 'KMS-930 E3', '300', '31-12-2018 7:44'],\n        ['Camion', 'CA160', 'KMS-980E', '373', '31-12-2018 7:52'],\n        ['Camion', 'CA91', 'KMS-930 E3', '300', '31-12-2018 7:58'],\n        ['Camion', 'CA135', 'KMS-930 E3', '300', '31-12-2018 7:53'],\n        ['Camion', 'CA47', 'KMS-930 E3', '300', '31-12-2018 2:03'],\n        ['Camion', 'CA106', 'LBH T282C', '373', '31-12-2018 4:55'],\n        ['Camion', 'CA111', 'KMS-930 E3', '300', '31-12-2018 2:05'],\n        ['Camion', 'CA61', 'KMS-930 E3', '300', '31-12-2018 4:18'],\n        ['Camion', 'CA74', 'KMS-930 E3', '300', '29-12-2018 2:53'],\n        ['Camion', 'CA78', 'KMS-930 E3', '300', '31-12-2018 7:59'],\n        ['Camion', 'CA86', 'KMS-930 E3', '300', '31-12-2018 7:58'],\n        ['Camion', 'CA157', 'KMS-930 E3', '300', '31-12-2018 5:42'],\n        ['Camion', 'CA109', 'KMS-930 E3', '300', '31-12-2018 7:49'],\n        ['Camion', 'CA149', 'KMS-930 E3', '300', '31-12-2018 3:33'],\n        ['Camion', 'CA98', 'KMS-930 E3', '300', '31-12-2018 5:30'],\n        ['Camion', 'CA17', 'Haulpack-830E', '210', '24-04-2018 8:32'],\n        ['Camion', 'CA161', 'KMS-980E', '373', '31-12-2018 7:44'],\n        ['Camion', 'CA123', 'KMS-930 E3', '300', '31-12-2018 7:53'],\n        ['Camion', 'CA119', 'KMS-930 E3', '300', '31-12-2018 7:48'],\n        ['Camion', 'CA143', 'KMS-930 E3', '300', '31-12-2018 7:58'],\n        ['Camion', 'CA57', 'KMS-930 E3', '300', '30-12-2018 21:37'],\n        ['Camion', 'CA146', 'LBH T282C', '373', '31-12-2018 7:43'],\n        ['Camion', 'CA94', 'KMS-930 E3', '300', '31-12-2018 6:09'],\n        ['Camion', 'CA137', 'KMS-930 E3', '300', '31-12-2018 7:59'],\n        ['Camion', 'CA60', 'KMS-930 E3', '300', '30-12-2018 16:13'],\n        ['Camion', 'CA71', 'KMS-930 E3', '300', '31-12-2018 5:36'],\n        ['Camion', 'CA89', 'KMS-930 E3', '300', '31-12-2018 7:50'],\n        ['Camion', 'CA118', 'KMS-930 E3', '300', '31-12-2018 7:55'],\n        ['Camion', 'CA99', 'KMS-930 E3', '300', '31-12-2018 7:59'],\n        ['Camion', 'CA128', 'KMS-930 E3', '300', '30-12-2018 0:00'],\n        ['Camion', 'CA139', 'KMS-930 E3', '300', '31-12-2018 7:47'],\n        ['Camion', 'CA104', 'LBH T282C', '373', '30-12-2018 5:49'],\n        ['Camion', 'CA112', 'KMS-930 E3', '300', '31-12-2018 7:53'],\n        ['Camion', 'CA126', 'KMS-930 E3', '300', '31-12-2018 7:46'],\n        ['Camion', 'CA63', 'KMS-930 E3', '300', '30-12-2018 10:31'],\n        ['Camion', 'CA132', 'KMS-930 E3', '300', '31-12-2018 6:10'],\n        ['Camion', 'CA163', 'KMS-980E', '373', '31-12-2018 7:54'],\n        ['Camion', 'CA82', 'KMS-930 E3', '300', '30-12-2018 23:33'],\n        ['Camion', 'CA96', 'KMS-930 E3', '300', '31-12-2018 7:52'],\n        ['Camion', 'CA70', 'KMS-930 E3', '300', '31-12-2018 7:50'],\n        ['Camion', 'CA76', 'KMS-930 E3', '300', '31-12-2018 7:51'],\n        ['Camion', 'CA56', 'KMS-930 E3', '300', '29-12-2018 5:08'],\n        ['Camion', 'CA46', 'KMS-930 E3', '300', '28-12-2018 16:34'],\n        ['Camion', 'CA147', 'LBH T282C', '373', '31-12-2018 7:48'],\n        ['Camion', 'CA134', 'KMS-930 E3', '300', '31-12-2018 7:58'],\n        ['Camion', 'CA141', 'KMS-930 E3', '300', '31-12-2018 7:50'],\n        ['Camion', 'CA101', 'KMS-930 E3', '300', '31-12-2018 7:50'],\n        ['Camion', 'CA107', 'LBH T282C', '373', '31-12-2018 7:58'],\n        ['Camion', 'CA125', 'KMS-930 E3', '300', '31-12-2018 7:50'],\n        ['Camion', 'CA29', 'Haulpack-830E', '210', '24-04-2018 13:49'],\n        ['Camion', 'CA117', 'KMS-930 E3', '300', '30-12-2018 22:59'],\n        ['Camion', 'CA131', 'KMS-930 E3', '300', '31-12-2018 7:49'],\n        ['Camion', 'CA62', 'KMS-930 E3', '300', '31-12-2018 4:22'],\n        ['Camion', 'CA144', 'KMS-930 E3', '300', '30-12-2018 18:28'],\n        ['Camion', 'CA85', 'KMS-930 E3', '300', '31-12-2018 7:58'],\n        ['Camion', 'CA73', 'KMS-930 E3', '300', '30-12-2018 17:22'],\n        ['Camion', 'CA87', 'KMS-930 E3', '300', '31-12-2018 7:52'],\n        ['Camion', 'CA97', 'KMS-930 E3', '300', '31-12-2018 7:57'],\n        ['Camion', 'CA158', 'KMS-930 E3', '300', '31-12-2018 6:17'],\n        ['Camion', 'CA142', 'KMS-930 E3', '300', '31-12-2018 7:55'],\n        ['Camion', 'CA152', 'KMS-930 E3', '300', '31-12-2018 7:46'],\n        ['Camion', 'CA162', 'KMS-980E', '373', '31-12-2018 5:25'],\n        ['Camion', 'CA110', 'KMS-930 E3', '300', '31-12-2018 7:52'],\n        ['Camion', 'CA116', 'KMS-930 E3', '300', '31-12-2018 7:58'],\n        ['Camion', 'CA120', 'KMS-930 E3', '300', '31-12-2018 7:51'],\n        ['Camion', 'CA102', 'KMS-930 E3', '300', '31-12-2018 7:59'],\n        ['Camion', 'CA108', 'KMS-930 E3', '300', '31-12-2018 7:56'],\n        ['Camion', 'CA154', 'KMS-930 E3', '300', '31-12-2018 6:49'],\n        ['Camion', 'CA95', 'KMS-930 E3', '300', '31-12-2018 7:57'],\n        ['Camion', 'CA155', 'KMS-930 E3', '300', '31-12-2018 7:55'],\n        ['Camion', 'CA136', 'KMS-930 E3', '300', '31-12-2018 7:58'],\n        ['Camion', 'CA58', 'KMS-930 E3', '300', '31-12-2018 7:48'],\n        ['Camion', 'CA80', 'KMS-930 E3', '300', '31-12-2018 7:58'],\n        ['Camion', 'CA72', 'KMS-930 E3', '300', '31-12-2018 7:56'],\n        ['Camion', 'CA67', 'KMS-930 E3', '300', '30-12-2018 20:24'],\n        ['Camion', 'CA129', 'KMS-930 E3', '300', '31-12-2018 5:34'],\n        ['Camion', 'CA159', 'KMS-980E', '373', '31-12-2018 7:47'],\n        ['Camion', 'CA115', 'KMS-930 E3', '300', '31-12-2018 5:26'],\n        ['Camion', 'CA127', 'KMS-930 E3', '300', '31-12-2018 5:26'],\n        ['Camion', 'CA92', 'KMS-930 E3', '300', '31-12-2018 6:14'],\n        ['Camion', 'CA105', 'LBH T282C', '373', '31-12-2018 7:45'],\n        ['Carguio', 'PA21', 'CAT7495', '79', '31-12-2018 7:03'],\n        ['Carguio', 'PA12', 'P&H 4100XPC', '74', '31-12-2018 6:26'],\n        ['Carguio', 'CF06', 'Le Tourneau L1850', '36', '31-12-2018 5:18'],\n        ['Carguio', 'PA11', 'P&H 4100XPC', '74', '28-11-2018 9:40'],\n        ['Carguio', 'PA20', 'KMS-PC8000', '42', '31-12-2018 3:32'],\n        ['Carguio', 'CF05', 'Le Tourneau L1850', '36', '30-12-2018 5:09'],\n        ['Carguio', 'PA13', 'P&H 4100XPC', '74', '31-12-2018 7:38'],\n        ['Carguio', 'PA14', 'P&H 4100XPC', '74', '31-12-2018 5:25'],\n        ['Carguio', 'PA09', 'Bucyrus 495 HR', '73', '31-12-2018 6:05'],\n        ['Carguio', 'CF04', 'Le Tourneau L1850', '36', '20-06-2018 6:58'],\n        ['Carguio', 'PA15', 'KMS-PC5500', '36', '31-12-2018 7:58'],\n        ['Carguio', 'PA08', 'Bucyrus 495 HR', '73', '31-12-2018 7:42'],\n        ['Carguio', 'PA16', 'KMS-PC5500', '36', '31-12-2018 5:45'],\n        ['Carguio', 'PA06', 'Bucyrus 495 HR', '73', '31-12-2018 7:06'],\n        ['Carguio', 'PA10', 'Bucyrus 495 HR', '73', '28-12-2018 22:43'],\n        ['Chancado', 'CS03', 'Chanc. Sulfuros', '0', '30-12-2018 19:11'],\n        ['Chancado', 'CS01', 'Chanc. Sulfuros', '0', '15-12-2018 0:29'],\n        ['Chancado', 'CO01', 'Chanc. Oxidos', '0', '23-12-2018 20:11'],\n        ['Combus. y Lub.', 'P1 UJI', 'Petroleros', '0', '16-12-2018 7:54'],\n        ['Combus. y Lub.', 'P3 SEMIMOVI', 'Petroleros', '0', '16-12-2018 7:54'],\n        ['Combus. y Lub.', 'P2 SEMIMOVI', 'Petroleros', '0', '16-12-2018 7:54'],\n        ['Combus. y Lub.', 'P4 SEMIMOVI', 'Petroleros', '0', '07-12-2018 5:44'],\n        ['Moto.Niv.', 'MO08', 'CAT-16H', '0', '31-12-2018 1:05'],\n        ['Moto.Niv.', 'MO16', 'CAT-16M', '0', '31-12-2018 5:48'],\n        ['Moto.Niv.', 'MO14', 'CAT-16M', '0', '29-12-2018 9:18'],\n        ['Moto.Niv.', 'MO06', 'CAT-16H', '0', '13-02-2018 0:48'],\n        ['Moto.Niv.', 'MO12', 'CAT-16M', '0', '31-12-2018 4:46'],\n        ['Moto.Niv.', 'MO09', 'CAT-24H', '0', '30-12-2018 14:08'],\n        ['Moto.Niv.', 'MO07', 'CAT-16H', '0', '28-12-2018 11:50'],\n        ['Moto.Niv.', 'MO17', 'CAT-24M', '0', '31-12-2018 3:17'],\n        ['Moto.Niv.', 'MO15', 'CAT-16M', '0', '31-12-2018 5:07'],\n        ['Moto.Niv.', 'MO10', 'CAT-24H', '0', '31-12-2018 6:12'],\n        ['Moto.Niv.', 'MO13', 'CAT-16M', '0', '31-12-2018 7:09'],\n        ['Perforadora', 'PO15', 'Bucyrus 49HR', '0', '20-12-2018 2:39'],\n        ['Perforadora', 'PO05', 'Bucyrus 49RII', '0', ''],\n        ['Perforadora', 'PO22', 'AtlasCop DML', '12', '31-12-2018 7:32'],\n        ['Perforadora', 'PO07', 'Bucyrus 49HR', '0', ''],\n        ['Perforadora', 'PO01', 'Bucyrus 49RII', '0', ''],\n        ['Perforadora', 'PO19', 'Bucyrus 49HR', '0', ''],\n        ['Perforadora', 'PO13', 'SVK D75KS', '0', '09-06-2018 3:04'],\n        ['Perforadora', 'PO20', 'AtlasCop DML', '0', '31-12-2018 7:35'],\n        ['Perforadora', 'PO16', 'SVK D75KS', '0', '19-06-2018 8:55'],\n        ['Perforadora', 'PO17', 'PitViper', '0', '29-10-2018 23:33'],\n        ['Perforadora', 'PO03', 'Bucyrus 49RII', '0', ''],\n        ['Perforadora', 'PO21', 'AtlasCop DML', '0', '30-12-2018 19:31'],\n        ['Retroexcavadora', 'RE01', 'KMS-PC-300', '0', '25-03-2018 17:25'],\n        ['Retroexcavadora', 'RE06', 'KMS-PC600', '21', '30-12-2018 20:20'],\n        ['Retroexcavadora', 'RE03', 'KMS-PC-300', '0', '13-02-2018 8:32'],\n        ['Retroexcavadora', 'RE02', 'KMS-PC-300', '0', '16-01-2018 14:59'],\n        ['Retroexcavadora', 'RE05', 'KMS-PC600', '0', '31-12-2018 3:09'],\n        ['Retroexcavadora', 'RE09', 'KMS-PC-300', '21', '31-12-2018 7:33'],\n        ['Retroexcavadora', 'RE04', 'KMS-PC600', '21', '27-12-2018 19:34'],\n        ['Retroexcavadora', 'RE08', 'KMS-PC-300', '21', '30-12-2018 16:25'],\n        ['Tow Haul', 'TW01', 'TOW HAUL', '0', '28-12-2018 14:20'],\n        ['Tow Haul', 'TW02', 'Desconocido', '0', '30-12-2018 9:31'],\n        ['Tow Haul', 'CB01', 'TOW HAUL', '0', '29-12-2018 12:09'],\n        ['Tractor Neumaticos', 'TN06', 'CAT-854G', '0', '10-02-2018 23:49'],\n        ['Tractor Neumaticos', 'TN18', 'CAT-854K', '0', '31-12-2018 3:43'],\n        ['Tractor Neumaticos', 'TN09', 'CAT-834G', '0', '31-12-2018 3:01'],\n        ['Tractor Neumaticos', 'TN15', 'CAT-854K', '0', '31-12-2018 1:48'],\n        ['Tractor Neumaticos', 'TN07', 'CAT-854G', '0', ''],\n        ['Tractor Neumaticos', 'TN13', 'CAT-854K', '0', '30-12-2018 23:00'],\n        ['Tractor Neumaticos', 'TN16', 'CAT-854K', '0', '31-12-2018 2:34'],\n        ['Tractor Neumaticos', 'TN14', 'CAT-854K', '0', '31-12-2018 7:41'],\n        ['Tractor Neumaticos', 'TN11', 'CAT-854G', '0', '31-12-2018 2:04'],\n        ['Tractor Neumaticos', 'TN08', 'CAT-834G', '0', '12-02-2018 20:14'],\n        ['Tractor Neumaticos', 'TN12', 'CAT-834H', '0', '31-12-2018 4:19'],\n        ['Tractor Neumaticos', 'TN10', 'CAT-854G', '0', '31-12-2018 5:09'],\n        ['Tractor Neumaticos', 'TN17', 'CAT-854K', '0', '31-12-2018 3:10'],\n        ['Tractor Orugas', 'TO22', 'CAT-D11T', '0', '31-12-2018 2:03'],\n        ['Tractor Orugas', 'TO08', 'CAT-D11R', '0', '31-12-2018 5:59'],\n        ['Tractor Orugas', 'TO19', 'CAT-D11T', '0', '30-12-2018 20:09'],\n        ['Tractor Orugas', 'TO16', 'CAT-D11T', '0', '31-12-2018 7:46'],\n        ['Tractor Orugas', 'TO17', 'CAT-D11T', '0', '31-12-2018 7:41'],\n        ['Tractor Orugas', 'TO14', 'CAT-D11R', '13', '31-12-2018 7:37'],\n        ['Tractor Orugas', 'TO13', 'CAT-D10R', '0', '31-12-2018 7:44'],\n        ['Tractor Orugas', 'TO12', 'CAT-D10R', '13', '30-12-2018 19:41'],\n        ['Tractor Orugas', 'TO21', 'CAT-D11T', '0', '31-12-2018 7:43'],\n        ['Tractor Orugas', 'TO09', 'CAT-D11R', '0', '31-12-2018 7:57'],\n        ['Tractor Orugas', 'TO07', 'CAT-D11R', '13', '31-12-2018 7:26'],\n        ['Tractor Orugas', 'TO10', 'CAT-D10R', '0', '31-12-2018 5:46'],\n        ['Tractor Orugas', 'TO11', 'CAT-D10R', '0', '31-12-2018 5:21'],\n        ['Tractor Orugas', 'TO18', 'CAT-D11T', '0', '31-12-2018 5:24'],\n        ['Tractor Orugas', 'TO20', 'CAT-D11T', '0', '31-12-2018 0:08']\n      ];\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  angular\n    .module('app')\n    .component('miningPlanTracing', {\n      template:'<div>Tracing</div>'\n    });\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['OEE'];\n\n  angular\n    .module('app')\n    .component('oeeCapacityPerformance', {\n      template:'<div style=\"position: relative\"><day-oee-chart type=\"\\'CapacityPerformance\\'\" data=\"ctrl.filters.data\" size=\"ctrl.filters.size\" from=\"ctrl.filters.from\" to=\"ctrl.filters.to\" categories=\"ctrl.filters.categories\" equipments=\"ctrl.filters.equipments\"></day-oee-chart><spinner show=\"ctrl.filters.loading\"></spinner></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller(OEE) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.filters = OEE.listenFilters();\n    };\n\n    vm.$onDestroy = function () {\n      vm.filters.offFilters()\n    };\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', '$timeout', '$element', 'DateUtils', '$filter', 'OEE'];\n\n  angular\n    .module('app')\n    .component('dayOeeChart', {\n      template:'<div ng-class=\"{\\'panel panel-light\\': ctrl.options.title.show}\"><div class=\"panel-heading\" ng-if=\"ctrl.options.title.show\">{{ctrl.types[ctrl.type].title}}</div><div class=\"chart chart-{{ctrl.size}}\" ng-class=\"{transparent: false}\"></div><spinner show=\"ctrl.loading\"></spinner><div ng-if=\"ctrl.selectedDate\" class=\"marginLR20 marginT20 paddingB5\"><hour-oee-chart date=\"ctrl.selectedDate\" type=\"ctrl.type\" categories=\"ctrl.categories\" equipments=\"ctrl.equipments\" color=\"ctrl.color\"></hour-oee-chart></div></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        type: '<',\n        options: '<',\n        data: '<',\n        from: '<',\n        to: '<',\n        categories: '<',\n        equipments: '<',\n        size: '<'\n      }\n    });\n\n  function Controller($root, $timeout, $element, DateUtils, $filter, OEE) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      const container = $element.find('.chart');\n\n      vm.types = {\n        Utilization: {\n          title: 'Utilización por día',\n          yAxisLabel: '% de tiempo',\n          color: '#a3a1fb'\n        },\n        CapacityPerformance: {\n          title: 'Performace Capacidad por día',\n          yAxisLabel: '% de capacidad',\n          color: '#59678c'\n        },\n        TimePerformance: {\n          title: 'Performance Tiempo por día',\n          yAxisLabel: '% de tiempo',\n          color: '#ffb980'\n        },\n        OEE: {\n          colors: '#5fe2a0'\n        }\n      };\n\n      vm.container = container[0];\n\n    };\n\n    vm.$onChanges = function (changes) {\n      vm.options = Object.assign({\n        lastMarker: false,\n        title: {show: true},\n        enableInteraction: true,\n        yAxis: {name: true, labels: true},\n        xAxis: {name: true, labels: true},\n        series: {label: true}\n      }, vm.options);\n\n      if (changes.data && vm.data) {\n        $timeout(() => {\n          plotChart(vm.data);\n        });\n      }\n    };\n\n    vm.$onDestroy = function () {\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n    };\n\n    function plotChart(data) {\n      const categories = [];\n      const series = [];\n\n      for (let date = new Date(vm.from.getTime()); date <= vm.to; date.setDate(date.getDate() + 1)) {\n        categories.push($filter('date')(date, 'MMM d yyyy'));\n      }\n\n      const dataMap = {};\n      data.forEach(current => {\n        if (!dataMap[current.parent]) {\n          dataMap[current.parent] = {};\n        }\n\n        current.data.reduce((map, pair) => {\n          const date = pair[0];\n          map[date] = map[date] || {};\n          map[date][current.category] = pair[1];\n          return map;\n        }, dataMap[current.parent]);\n      });\n\n      let max = null;\n      for (let type in dataMap) {\n        const current = dataMap[type];\n        const data = [];\n\n        for (let day in current) {\n          const _this = current[day];\n          let value = Math.round(1000 * _this[vm.type]) / 10;\n          if (value === 0) {\n            continue;\n          }\n          max = max === null || max < value ? value : max;\n\n          data.push([day, value]);\n        }\n\n        series.push({\n          type: 'line',\n          id: vm.type,\n          smooth: false,\n          symbolSize: 8,\n          color: vm.types[vm.type].color,\n          name: vm.types[vm.type].title,\n          data: data,\n          label: {\n            show: vm.options.series.label,\n            position: 'top',\n            formatter: (params) => params.data[1] + '%',\n            color: '#666'\n          },\n          markPoint: vm.options.lastMarker ? {\n            data: [{\n              value: data[data.length - 1][1] + '%',\n              coord: [data.length - 1, data[data.length - 1][1]],\n              name: 'Valor Actual'\n            }]\n          } : null,\n          markLine: {\n            silent: true,\n            lineStyle: {color: '#999999', width: 2},\n            data: [[{\n              symbol: 'none',\n              coord: [categories[0], 100]\n            }, {\n              symbol: 'none',\n              coord: [categories[categories.length - 1], 100]\n            }]]\n          }\n        });\n      }\n\n      max = !max ? 100 : max + 20 - max % 10;\n      max = max < 100 ? 100 : max;\n\n      let option = {\n        tooltip: {},\n        grid: {\n          left: vm.options.yAxis.name ? 80 : 30,\n          top: 20,\n          right: 20,\n          bottom: vm.options.xAxis.name ? 60 : 20\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {fontSize: 11, show: vm.options.yAxis.labels},\n          name: '% de tiempo',\n          nameLocation: 'center',\n          nameGap: 50,\n          min: 0,\n          max: max,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {fontSize: 11, show: vm.options.xAxis.labels},\n          name: 'Fecha',\n          nameLocation: 'center',\n          nameGap: 30,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        series: series\n      };\n\n\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n\n      if (!vm.chart || vm.chart.isDisposed()) {\n        vm.chart = echarts.init(vm.container, 'custom');\n        if (vm.options.enableInteraction) {\n          vm.chart.on('click', onChartClick);\n        }\n\n      }\n\n      vm.chart.clear();\n      vm.chart.setOption(option);\n      vm.chart.resize();\n    }\n\n    function onChartClick(params) {\n      if (params.componentType !== 'series') {\n        return;\n      }\n\n      const date = moment(params.value[0], 'MMM D YYYY').toDate();\n      const shift = params.seriesId;\n\n      if (date === vm.selectedDate) {\n        return;\n      }\n\n      $timeout(() => {\n        vm.color = params.color;\n        vm.selectedDate = date;\n      });\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', '$timeout', '$element', 'DateUtils', '$filter', 'OEE'];\n\n  angular\n    .module('app')\n    .component('hourOeeChart', {\n      template:'<div class=\"panel panel-light\"><div class=\"panel-heading\"><div>{{ctrl.types[ctrl.type].title}}</div><small style=\"font-size: 70%\">{{ctrl.date | date: \\'dd-MM-yyyy\\'}}</small></div><div class=\"chart chart\" ng-class=\"{transparent: false}\"></div><spinner show=\"ctrl.loading\"></spinner><minute-oee-chart date=\"ctrl.date\" ng-if=\"ctrl.selectedHour != null\" hour=\"ctrl.selectedHour\" type=\"ctrl.type\" categories=\"ctrl.categories\" equipments=\"ctrl.equipments\" color=\"ctrl.color\"></minute-oee-chart></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        type: '<',\n        date: '<',\n        categories: '<',\n        equipments: '<',\n        color: '<'\n      }\n    });\n\n  function Controller($root, $timeout, $element, DateUtils, $filter, OEE) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      const container = $element.find('.chart');\n\n      vm.types = {\n        Utilization: {\n          title: 'Utilización por hora',\n          yAxisLabel: '% de tiempo'\n        },\n        CapacityPerformance: {\n          title: 'Performace Capacidad por hora',\n          yAxisLabel: '% de capacidad'\n        },\n        TimePerformance: {\n          title: 'Performance Tiempo por hora',\n          yAxisLabel: '% de tiempo'\n        },\n        OEE: ''\n      };\n\n      vm.container = container[0];\n      loadData();\n      vm.selectedDate = vm.date;\n    };\n\n    vm.$onChanges = function () {\n      if (!vm.container) {\n        return;\n      }\n\n\n      if (!vm.selectedDate || vm.selectedDate.getTime() !== vm.date.getTime()) {\n        vm.selectedHour = null;\n        loadData();\n      }\n      vm.selectedDate = vm.date;\n    };\n\n    vm.$onDestroy = function () {\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n    };\n\n    function loadData() {\n      vm.loading = true;\n      OEE\n        .loadDataAsHours(vm.date, vm.date, vm.type, vm.categories, vm.equipments)\n        .then(data => {\n          vm.loading = false;\n          plotChart(data);\n        })\n        .catch(err => {\n          vm.loading = false;\n          console.log(err);\n        });\n    }\n\n    function plotChart(data) {\n      const categories = [];\n      const series = [];\n\n      for (let i = 0; i < 24; i++) {\n        const hour = i % 12 === 0 ? 12 : i % 12;\n        categories.push(hour + (i < 12 ? 'am' : 'pm'));\n      }\n\n\n      const dataMap = {};\n      data.forEach(current => {\n        if (!dataMap[current.parent]) {\n          dataMap[current.parent] = {};\n        }\n\n        current.data.reduce((map, pair) => {\n          const date = pair[0];\n          map[date] = map[date] || {};\n          map[date][current.category] = pair[1];\n          return map;\n        }, dataMap[current.parent]);\n      });\n\n      let max = null;\n      for (let type in dataMap) {\n        const current = dataMap[type];\n        const data = [];\n\n        for (let day in current) {\n          const _this = current[day];\n          let value = Math.round(1000 * _this[vm.type]) / 10;\n          if (value === 0) {\n            continue;\n          }\n          max = max === null || max < value ? value : max;\n          data.push([day, value]);\n        }\n\n        series.push({\n          type: 'line',\n          id: vm.type,\n          smooth: false,\n          symbolSize: 8,\n          name: vm.type,\n          data: data,\n          label: {\n            show: true,\n            position: 'top',\n            formatter: (params) => params.data[1] + '%',\n            color: '#666'\n          },\n          markLine: {\n            silent: true,\n            lineStyle: {color: '#999999', width: 2},\n            data: [[{\n              symbol: 'none',\n              coord: [categories[0], 100]\n            }, {\n              symbol: 'none',\n              coord: [categories[categories.length - 1], 100]\n            }]]\n          }\n        });\n      }\n      max = !max ? 100 : max + 20 - max % 10;\n      max = max < 100 ? 100 : max;\n      const option = {\n        tooltip: {},\n        grid: {\n          left: 80,\n          top: 30,\n          right: 30,\n          bottom: 60\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {fontSize: 11},\n          name: '% de tiempo',\n          nameLocation: 'center',\n          nameGap: 50,\n          min: 0,\n          max: max,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {fontSize: 11},\n          name: 'Fecha',\n          nameLocation: 'center',\n          nameGap: 30,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        visualMap: {\n          show: false,\n          type: 'piecewise',\n          dimension: 0,\n          pieces: [{\n            lte: 8,\n            color: '#a3a1fb'\n          }, {\n            gt: 8,\n            lte: 20,\n            color: '#5fe2a0'\n          }, {\n            gt: 20,\n            color: '#a3a1fb'\n          }]\n        },\n        series: series\n      };\n\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n\n      if (!vm.chart || vm.chart.isDisposed()) {\n        vm.chart = echarts.init(vm.container, 'custom');\n        vm.chart.on('click', onChartClick);\n      }\n\n      vm.chart.clear();\n      vm.chart.setOption(option);\n      vm.chart.resize();\n    }\n\n    function onChartClick(params) {\n      if (params.componentType !== 'series') {\n        return;\n      }\n\n      let hour = params.value[0];\n      const suffix = hour.slice(-2);\n      if (suffix === 'am') {\n        hour = parseInt(hour) % 12;\n      } else {\n        hour = parseInt(hour) % 12 + 12;\n      }\n\n      const shift = params.seriesId;\n\n      if (hour === vm.selectedHour) {\n        return;\n      }\n\n      $timeout(() => {\n        vm.color = params.color;\n        vm.selectedHour = hour;\n      });\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', '$timeout', '$element', 'DateUtils', '$filter', 'OEE'];\n\n  angular\n    .module('app')\n    .component('minuteOeeChart', {\n      template:'<div class=\"panel panel-light\"><div class=\"panel-heading\"><div>{{ctrl.types[ctrl.type].title}}</div><small style=\"font-size: 70%\">{{ctrl.hourString}} Horas</small></div><div class=\"chart chart-sm\" ng-class=\"{transparent: false}\"></div><spinner show=\"ctrl.loading\"></spinner><minute-oee-details-chart date=\"ctrl.selectedDate\" type=\"ctrl.type\" color=\"ctrl.color\"></minute-oee-details-chart></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        type: '<',\n        date: '<',\n        hour: '<',\n        categories: '<',\n        equipments: '<',\n        color: '<'\n      }\n    });\n\n  function Controller($root, $timeout, $element, DateUtils, $filter, OEE) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      const container = $element.find('.chart');\n\n      vm.types = {\n        Utilization: {\n          title: 'Utilización por minuto',\n          yAxisLabel: '% de tiempo'\n        },\n        CapacityPerformance: {\n          title: 'Performace Capacidad por minuto',\n          yAxisLabel: '% de capacidad'\n        },\n        TimePerformance: {\n          title: 'Performance Tiempo por minuto',\n          yAxisLabel: '% de tiempo'\n        },\n        OEE: ''\n      };\n\n      vm.container = container[0];\n      loadData();\n      vm.hourString = DateUtils.pad(vm.hour);\n      vm.selectedDate = vm.date;\n    };\n\n    vm.$onChanges = function () {\n      if (!vm.container || !vm.date) {\n        return;\n      }\n\n      if (!vm.selectedDate || vm.selectedDate.getTime() !== vm.date.getTime() || vm.hour !== vm.selectedHour) {\n        loadData();\n      }\n      vm.selectedDate = vm.date;\n      vm.seletectHour = vm.hour;\n      vm.hourString = DateUtils.pad(vm.hour);\n    };\n\n    vm.$onDestroy = function () {\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n    };\n\n    function loadData() {\n      vm.loading = true;\n      OEE\n        .loadDataAsMinutes(vm.date, vm.hour, vm.type, vm.categories, vm.equipments)\n        .then(data => {\n          vm.loading = false;\n          vm.data = data;\n          plotChart(data);\n        })\n        .catch(err => {\n          vm.loading = false;\n          console.log(err);\n        });\n    }\n\n    function plotChart(data) {\n      const categories = [];\n      const series = [];\n\n      for (let i = 0; i < 60; i++) {\n        categories.push(i);\n      }\n\n      const dataMap = {};\n      data.forEach(current => {\n        if (!dataMap[current.parent]) {\n          dataMap[current.parent] = {};\n        }\n\n        current.data.reduce((map, pair) => {\n          const date = pair[0];\n          map[date] = map[date] || {};\n          map[date][current.category] = pair[1];\n          return map;\n        }, dataMap[current.parent]);\n      });\n\n      let max = null;\n      for (let type in dataMap) {\n        const current = dataMap[type];\n        const data = [];\n\n        for (let _minute in current) {\n          const _this = current[_minute];\n          let value = Math.round(1000 * _this[vm.type]) / 10;\n\n          let [hour, minute] = _minute.split(':');\n          hour = parseInt(hour);\n          minute = parseInt(minute);\n          if (hour === vm.hour) {\n            max = max === null || max < value ? value : max;\n            data.push([minute, value]);\n          }\n        }\n\n        series.push({\n          type: 'line',\n          id: vm.type,\n          smooth: false,\n          symbolSize: 8,\n          name: vm.type,\n          data: data,\n          markLine: {\n            silent: true,\n            lineStyle: {color: '#999999', width: 2},\n            data: [[{\n              symbol: 'none',\n              coord: [categories[0], 100]\n            }, {\n              symbol: 'none',\n              coord: [categories[categories.length - 1], 100]\n            }]]\n          }\n        });\n      }\n      max = !max ? 100 : max + 20 - max % 10;\n      max = max < 100 ? 100 : max;\n      const option = {\n        tooltip: {},\n        grid: {\n          left: 80,\n          top: 30,\n          right: 30,\n          bottom: 60\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {fontSize: 11},\n          name: '% de tiempo',\n          nameLocation: 'center',\n          nameGap: 50,\n          min: 0,\n          max: max,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {fontSize: 11},\n          name: 'Fecha',\n          nameLocation: 'center',\n          nameGap: 30,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        series: series\n      };\n\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n\n      if (!vm.chart || vm.chart.isDisposed()) {\n        vm.chart = echarts.init(vm.container, 'custom');\n      }\n\n      vm.chart.clear();\n      vm.chart.setOption(option);\n      vm.chart.resize();\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$element', '$timeout', '$filter'];\n\n  angular\n    .module('app')\n    .component('oeeGauge', {\n      template:'<div class=\"panel panel-default ng-cloak\"><div class=\"panel-heading text-center\">{{ctrl.chartTitle}}</div><div class=\"chart chart-{{ctrl.size}}\"></div></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        value: '<',\n        valueInterval: '<',\n        size: '<',\n        chartTitle: '<',\n        color: '<'\n      }\n    });\n\n  function Controller($element, $timeout, $filter) {\n    const vm = this;\n\n    vm.$postLink = function () {\n      vm.jqContainer = $element.find('.chart');\n      vm.container = vm.jqContainer[0];\n      vm.valueInterval = vm.valueInterval || [60, 90];\n      $timeout(() => {\n        plotChart();\n      }, 100);\n    };\n\n    vm.$onDestroy = function () {\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n    };\n\n    function plotChart() {\n      const max = vm.valueInterval[1];\n      const min = vm.valueInterval[0];\n      const now = new Date();\n      now.setDate(now.getDate() - 8);\n      const categories = [];\n      for (let i = 0; i < 7; i++) {\n        now.setDate(now.getDate() + 1);\n        categories.push($filter('date')(now, 'dd-MM-yyyy'));\n      }\n\n      const data = [];\n      for (let i = 0; i < categories.length - 1; i++) {\n        data.push(Math.floor(10 * Math.random() * (max - min + 1)) / 10 + min);\n      }\n      data.push(vm.value);\n\n      if (isNaN(vm.value)) {\n        if (vm.chart) {\n          echarts.dispose(vm.chart);\n        }\n        return;\n      }\n\n      $timeout(() => {\n        const option = {\n          tooltip: {},\n          grid: {\n            left: 30,\n            right: 15,\n            top: 25,\n            bottom: 15\n          },\n          xAxis: {\n            type: 'category',\n            data: categories,\n            axisTick: {show: false},\n            axisLabel: {show: false, fontSize: 11},\n            splitLine: {\n              show: false\n            },\n            boundaryGap: false\n          },\n          yAxis: {\n            type: 'value',\n            axisTick: {show: false},\n            axisLabel: {show: true, fontSize: 11},\n            max: 100,\n            min: min - min * .5,\n            splitLine: {\n              show: false\n            }\n          },\n          series: [{\n            color: vm.color,\n            name: vm.chartTitle,\n            type: 'line',\n            data: data,\n            smooth: false,\n            symbolSize: 8,\n            markPoint: {\n              data: [{\n                value: data[data.length - 1] + '%',\n                coord: [data.length - 1, data[data.length - 1]],\n                name: 'Valor Actual'\n              }]\n            }\n          }]\n        };\n\n        if (vm.chart) {\n          echarts.dispose(vm.chart);\n        }\n\n        if (!vm.chart || vm.chart.isDisposed()) {\n          vm.chart = echarts.init(vm.container, 'custom');\n        }\n\n        vm.chart.clear();\n        vm.chart.setOption(option);\n        vm.chart.resize();\n      }, 50);\n\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$state'];\n\n  angular\n    .module('app')\n    .component('oeeOverviewChart', {\n      template:'<div class=\"panel panel-default ng-cloak\"><div class=\"panel-heading text-center\" ng-class=\"{\\'cursor-pointer\\': ctrl.target}\" ng-click=\"ctrl.goToTarget()\">{{ctrl.chartTitle}}</div><day-oee-chart type=\"ctrl.type\" data=\"ctrl.data\" size=\"ctrl.size\" from=\"ctrl.from\" to=\"ctrl.to\" categories=\"ctrl.categories\" equipments=\"ctrl.equipments\" options=\"ctrl.options\"></day-oee-chart></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        type: '<',\n        target: '<',\n        chartTitle: '<',\n        data: '<',\n        from: '<',\n        to: '<',\n        categories: '<',\n        equipments: '<',\n        size: '<'\n      }\n    });\n\n  function Controller($state) {\n    const vm = this;\n\n    vm.$postLink = function () {\n      vm.options = {\n        lastMarker: true,\n        title: {show: false},\n        enableInteraction: false,\n        xAxis: {name: false, labels: true},\n        yAxis: {name: false, labels: true},\n        series: {label: false}\n      };\n\n      vm.goToTarget = goToTarget;\n    };\n\n    vm.$onDestroy = function () {\n    };\n\n    function goToTarget() {\n      if (!vm.target) {\n        return;\n      }\n      $state.go(vm.target);\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['OEE'];\n\n  angular\n    .module('app')\n    .component('oeeOverview', {\n      template:'<div><oee-overview-chart type=\"\\'OEE\\'\" data=\"ctrl.filters.data\" from=\"ctrl.filters.from\" to=\"ctrl.filters.to\" categories=\"ctrl.filters.categories\" equipments=\"ctrl.filters.equipments\" chart-title=\"\\'OEE\\'\" size=\"\\'sm\\'\"></oee-overview-chart><div class=\"row\"><div class=\"col-md-4\"><oee-overview-chart type=\"\\'Utilization\\'\" data=\"ctrl.filters.data\" from=\"ctrl.filters.from\" to=\"ctrl.filters.to\" categories=\"ctrl.filters.categories\" equipments=\"ctrl.filters.equipments\" chart-title=\"\\'Utilización\\'\" size=\"\\'xs\\'\" target=\"\\'mineOperation.oee.utilization\\'\"></oee-overview-chart></div><div class=\"col-md-4\"><oee-overview-chart type=\"\\'CapacityPerformance\\'\" data=\"ctrl.filters.data\" from=\"ctrl.filters.from\" to=\"ctrl.filters.to\" categories=\"ctrl.filters.categories\" equipments=\"ctrl.filters.equipments\" chart-title=\"\\'Performance Capacidad\\'\" size=\"\\'xs\\'\" target=\"\\'mineOperation.oee.capacityPerformance\\'\"></oee-overview-chart></div><div class=\"col-md-4\"><oee-overview-chart type=\"\\'TimePerformance\\'\" data=\"ctrl.filters.data\" from=\"ctrl.filters.from\" to=\"ctrl.filters.to\" categories=\"ctrl.filters.categories\" equipments=\"ctrl.filters.equipments\" chart-title=\"\\'Performance Tiempo\\'\" size=\"\\'xs\\'\" target=\"\\'mineOperation.oee.timePerformance\\'\"></oee-overview-chart></div></div><spinner show=\"ctrl.filters.loading\"></spinner></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller(OEE) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.filters = OEE.listenFilters();\n    };\n\n    vm.$onDestroy = function () {\n      vm.filters.offFilters();\n    };\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['OEE'];\n\n  angular\n    .module('app')\n    .component('oeeTimePerformance', {\n      template:'<div style=\"position: relative\"><day-oee-chart type=\"\\'TimePerformance\\'\" data=\"ctrl.filters.data\" size=\"ctrl.filters.size\" from=\"ctrl.filters.from\" to=\"ctrl.filters.to\" categories=\"ctrl.filters.categories\" equipments=\"ctrl.filters.equipments\"></day-oee-chart><spinner show=\"ctrl.filters.loading\"></spinner></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller(OEE) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.filters = OEE.listenFilters();\n    };\n\n    vm.$onDestroy = function () {\n      vm.filters.offFilters()\n    };\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', '$timeout', '$element', 'DateUtils', '$filter', 'OEE', 'Equipment'];\n\n  angular\n    .module('app')\n    .component('mainUtilizationChart', {\n      template:'<div class=\"panel panel-light\"><div class=\"panel-heading\">Utilización por día</div><div class=\"chart chart-{{ctrl.size}}\" ng-class=\"{transparent: false}\"></div><spinner show=\"ctrl.loading\"></spinner><div ng-if=\"ctrl.selectedDate\" class=\"marginLR20\"><less-productive-equipments-chart from=\"ctrl.selectedDate\" on-chart-click=\"ctrl.lessProductiveChartClick(params, from, to)\" to=\"ctrl.selectedDate\" categories=\"ctrl.categories\"></less-productive-equipments-chart></div><div ng-if=\"ctrl.selectedDate && ctrl.selectedEquipments\" class=\"marginLR20\"><div class=\"panel panel-light\"><div class=\"panel-heading\">Estado de {{ctrl.selectedEquipments[0].name}}</div><operation-seagull-chart equipments=\"ctrl.selectedEquipments\" size=\"\\'sm\\'\" from=\"ctrl.selectedDate\" on-chart-click=\"ctrl.statusChartClick(params)\" to=\"ctrl.selectedDate\"></operation-seagull-chart></div></div><div ng-if=\"ctrl.selectedDate && ctrl.selectedEquipments && ctrl.selectedStatus\" class=\"marginLR20\"><div class=\"panel panel-light\"><div class=\"panel-heading\">Detalles de {{ctrl.selectedStatus}}</div><equipment-status-details-chart equipments=\"ctrl.selectedEquipments\" from=\"ctrl.selectedDate\" to=\"ctrl.selectedDate\" status=\"ctrl.selectedStatus\"></equipment-status-details-chart></div></div></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {}\n    });\n\n  function Controller($root, $timeout, $element, DateUtils, $filter, OEE, Equipment) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      const container = $element.find('.chart');\n      vm.options = {\n        title: 'Utilización por día',\n        yAxisLabel: '% de tiempo',\n        color: '#a3a1fb'\n      };\n\n      vm.lessProductiveChartClick = lessProductiveChartClick;\n      vm.statusChartClick = statusChartClick;\n\n      vm.container = container[0];\n\n      vm.offFilters = $root.$on('filter:update', (e, filters) => {\n        vm.filters = angular.copy(filters);\n\n        if (!vm.filters.categories || !vm.filters.categories.length) {\n          return;\n        }\n\n        vm.from = vm.filters.from;\n        vm.to = vm.filters.to;\n        vm.categories = vm.filters.categories;\n        vm.loading = true;\n\n        vm.selectedDate = null;\n        vm.selectedEquipments = null;\n        vm.selectedStatus = null;\n\n        const chartData = {};\n        OEE.loadDataAsDays(vm.from, vm.to, 'Utilization', vm.filters.categories, vm.filters.equipments)\n          .then(result => {\n            chartData.utilization = result && result[0] ? result[0].data : [];\n            return Equipment.statusData(vm.from, vm.to, vm.filters.categories, vm.filters.equipments, 'day');\n          })\n          .then(result => {\n            chartData.status = result;\n            vm.loading = false;\n            plotChart(chartData);\n          })\n          .catch(err => {\n            vm.loading = false;\n            console.log(err);\n          });\n      });\n    };\n\n    vm.$onChanges = function (changes) {\n      if (changes.data && vm.data) {\n        $timeout(() => {\n          plotChart(vm.data);\n        });\n      }\n    };\n\n    vm.$onDestroy = function () {\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n\n      vm.offFilters();\n    };\n\n    function plotChart(chartData) {\n      const categories = [];\n      for (let date = new Date(vm.from.getTime()); date <= vm.to; date.setDate(date.getDate() + 1)) {\n        categories.push($filter('date')(date, 'MMM d yyyy'));\n      }\n\n      const defaultSeries = {\n        data: [],\n        type: 'bar',\n        stack: 'stack',\n        barWidth: '50%',\n        label: {\n          show: true,\n          fontSize: 11,\n          formatter: (params) => params.data[1] + '%'\n        }\n      };\n\n      let series = {};\n      ['Operative', 'Delay', 'Standby', 'Downtime'].forEach(current => {\n        series[current] = angular.copy(defaultSeries);\n        series[current].name = current;\n      });\n\n      chartData.status.forEach(current => {\n        const minute = current.category;\n        const total = current.data.reduce((sum, current) => current[1] + sum, 0);\n        for (const pair of current.data) {\n          series[pair[0]].data.push([minute, Math.round(10000 * pair[1] / total) / 100]);\n        }\n      });\n\n      series = Object.values(series);\n\n      let max = null;\n      for (let pair of chartData.utilization) {\n        let value = Math.round(1000 * pair[1]) / 10;\n        if (value === 0) {\n          continue;\n        }\n\n        max = max === null || max < value ? value : max;\n        pair[1] = value;\n      }\n\n      /*series.push({\n        type: 'line',\n        id: 'utilization',\n        smooth: false,\n        symbolSize: 8,\n        color: '#333',\n        name: vm.options.title,\n        data: chartData.utilization,\n        label: {\n          show: true,\n          position: 'top',\n          formatter: (params) => params.data[1] + '%',\n          color: '#fff'\n        }\n      });*/\n\n      max = !max ? 100 : max + 20 - max % 10;\n      max = max < 100 ? 100 : max;\n\n      let option = {\n        tooltip: {},\n        legend: {},\n        grid: {\n          left: 80,\n          top: 40,\n          right: 20,\n          bottom: 60\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {fontSize: 11, show: true},\n          name: '% de tiempo',\n          nameLocation: 'center',\n          nameGap: 50,\n          min: 0,\n          max: max,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {fontSize: 11, show: true},\n          name: 'Fecha',\n          nameLocation: 'center',\n          nameGap: 30,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        series: series\n      };\n\n\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n\n      if (!vm.chart || vm.chart.isDisposed()) {\n        vm.chart = echarts.init(vm.container, 'custom');\n        vm.chart.on('click', onChartClick);\n      }\n\n      vm.chart.clear();\n      vm.chart.setOption(option);\n      vm.chart.resize();\n    }\n\n    function onChartClick(params) {\n      if (params.componentType !== 'series') {\n        return;\n      }\n\n      const date = moment(params.value[0], 'MMM D YYYY').toDate();\n      if (date === vm.selectedDate) {\n        return;\n      }\n\n      $timeout(() => {\n        vm.selectedEquipments = null;\n        vm.selectedDate = date;\n      });\n    }\n\n    function lessProductiveChartClick(params, from, to) {\n      vm.selectedStatus = null;\n      if (params.componentType !== 'series') {\n        return;\n      }\n      const equipmentName = params.data[1];\n      vm.selectedEquipments = equipmentName ? [{name: equipmentName}] : null;\n    }\n\n    function statusChartClick(params) {\n      if (params.componentType !== 'series') {\n        return;\n      }\n      vm.selectedStatus = params.seriesName;\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['OEE'];\n\n  angular\n    .module('app')\n    .component('oeeUtilization', {\n      template:'<div style=\"position: relative\"><main-utilization-chart></main-utilization-chart></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller(OEE) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      // vm.filters = OEE.listenFilters();\n    };\n\n    vm.$onDestroy = function () {\n      // vm.filters.offFilters();\n    };\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Utilization.$inject = ['$http', 'IrisUtils', 'Utils'];\n\n  angular\n    .module('app')\n    .service('Utilization', Utilization);\n\n  function Utilization($http, IrisUtils, Utils) {\n    return {\n      byDay\n    };\n\n    function byDay(from, to, categories) {\n      const cube = 'ASPMINING.ANALYTICS.STATUSEVENTSLICEDCUBE';\n      const fromNumber = IrisUtils.getDateNumber(from);\n      const toNumber = IrisUtils.getDateNumber(to);\n\n      const columns = [{\n        dimension: 'ShiftInfo',\n        hierarchy: 'H2',\n        hierarchyLevel: 'ShiftType',\n        members: `Members`,\n        children: [{\n          dimension: 'StatusType',\n          hierarchy: 'H1',\n          hierarchyLevel: 'StatusType',\n          members: `Members`\n        }]\n      }];\n\n      const rows = [\n        {dimension: 'SliceStartDate', hierarchy: 'H1', hierarchyLevel: 'SliceStartDateDay', members: 'Members'}\n      ];\n\n      let dates = fromNumber;\n      if (fromNumber !== toNumber) {\n        dates = [fromNumber, toNumber];\n      }\n\n      const filters = [{\n        dimension: 'EQUIPMENT',\n        hierarchy: 'H1',\n        hierarchyLevel: 'CATEGORY',\n        values: categories.map(current => current.name)\n      }, {\n        dimension: 'SLICESTARTDATE',\n        hierarchy: 'H1',\n        hierarchyLevel: 'SliceStartDateDay',\n        values: [dates]\n      }];\n\n      let query = IrisUtils.buildQuery(cube, columns, rows, 'PartialDuration', filters);\n\n      return $http\n        .post(window.IRIS_URL, {'MDX': query})\n        .then(response => {\n          return IrisUtils.parseTreeDimensionalResponse(response.data);\n        })\n        .catch(response => {\n          return Promise.reject(Utils.getHTTPError(response));\n        });\n    }\n\n    function byShift(from, to, category, shiftType) {\n      const cube = 'ASPMINING.ANALYTICS.STATUSEVENTSLICEDCUBE';\n      const fromNumber = IrisUtils.getDateNumber(from);\n      const toNumber = IrisUtils.getDateNumber(to);\n\n      const columns = [{\n        dimension: 'ShiftInfo',\n        hierarchy: 'H2',\n        hierarchyLevel: 'ShiftType',\n        members: `Members`,\n        children: [{\n          dimension: 'StatusType',\n          hierarchy: 'H1',\n          hierarchyLevel: 'StatusType',\n          members: `Members`\n        }]\n      }];\n\n      const rows = [\n        {dimension: 'SliceStartDate', hierarchy: 'H1', hierarchyLevel: 'SliceStartDateDay', members: 'Members'}\n      ];\n\n      let dates = fromNumber;\n      if (fromNumber !== toNumber) {\n        dates = [fromNumber, toNumber];\n      }\n\n      const filters = [{\n        dimension: 'EQUIPMENT',\n        hierarchy: 'H1',\n        hierarchyLevel: 'CATEGORY',\n        values: [category.name]\n      }, {\n        dimension: 'EQUIPMENT',\n        hierarchy: 'H1',\n        hierarchyLevel: 'CATEGORY',\n        values: [shiftType.name]\n      }, {\n        dimension: 'SLICESTARTDATE',\n        hierarchy: 'H1',\n        hierarchyLevel: 'SliceStartDateDay',\n        values: [dates]\n      }];\n\n      let query = IrisUtils.buildQuery(cube, columns, rows, 'PartialDuration', filters);\n\n      return $http\n        .post(window.IRIS_URL, {'MDX': query})\n        .then(response => {\n          return IrisUtils.parseTreeDimensionalResponse(response.data);\n        })\n        .catch(response => {\n          return Promise.reject(Utils.getHTTPError(response));\n        });\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  angular\n    .module('app')\n    .component('productionCompliance', {\n      template:'<equipment-production-status-chart></equipment-production-status-chart>'\n    });\n})();","(() => {\n\n  Controller.$inject = ['$rootScope', '$element', 'Truck', 'LoadDump'];\n\n  angular\n    .module('app')\n    .component('equipmentProductionStatusChart', {\n      template:'<div class=\"panel panel-light\"><div class=\"panel-heading\">Status de producción</div><div class=\"chart\" style=\"height: 450px\"></div><spinner show=\"ctrl.loading\"></spinner></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {}\n    });\n\n  function Controller($rootScope, $element, Truck, LoadDump) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.container = $element.find('.chart')[0];\n      vm.filters = {};\n      vm.trucks = [];\n\n      vm.offFilters = $rootScope.$on('filter:update', (e, filters) => {\n        vm.filters = angular.copy(filters);\n        vm.loading = true;\n        Truck\n          .getProduction(vm.filters.trucks, vm.filters.date)\n          .then(production => {\n            vm.loading = false;\n            plotChart(production);\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      });\n    };\n\n    vm.$onDestroy = function () {\n      if (vm.offFilters) {\n        vm.offFilters();\n      }\n    };\n\n    function plotChart(data) {\n      const series = [];\n      const categories = data.length ? data[0].categories : [];\n\n      data.forEach(current => {\n        series.push({\n          name: current.equipmentName,\n          data: current.values,\n          type: 'bar',\n          stack: 'stack'\n        });\n      });\n\n      const option = {\n        tooltip: {},\n        grid: {\n          left: 80,\n          top: 60,\n          right: 30,\n          bottom: 60\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {fontSize: 11},\n          name: 'Toneladas',\n          nameLocation: 'center',\n          nameGap: 50,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {fontSize: 11},\n          name: 'Horas',\n          nameLocation: 'center',\n          nameGap: 30,\n          nameTextStyle: {\n            color: '#333333',\n            fontSize: 16\n          }\n        },\n        series: series,\n        legend: {\n          show: true,\n          padding: [20, 0, 0, 0],\n          data: series.map(current => current.name)\n        }\n      };\n\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n\n      if (!vm.chart || vm.chart.isDisposed()) {\n        vm.chart = echarts.init(vm.container, 'custom');\n      }\n\n      vm.chart.clear();\n      vm.chart.setOption(option);\n      vm.chart.resize();\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', 'EquipmentCategory', '$transitions'];\n\n  angular\n    .module('app')\n    .component('equipmentRankFilter', {\n      template:'<div class=\"form-group\"><label>Desde</label> <input type=\"text\" class=\"form-control\" readonly ng-disabled=\"ctrl.loading\" style=\"background: #fff\" enable-time=\"false\" datetime-picker=\"dd-MM-yyyy\" is-open=\"ctrl.dates.from.open\" datepicker-options=\"ctrl.dates.options\" ng-click=\"ctrl.dates.from.open = !ctrl.dates.from.open\" when-closed=\"ctrl.dates.onClose(args)\" ng-model=\"ctrl.dates.from.value\"></div><div class=\"form-group\"><label>Hasta</label> <input type=\"text\" class=\"form-control\" readonly ng-disabled=\"ctrl.loading\" style=\"background: #fff\" enable-time=\"false\" datetime-picker=\"dd-MM-yyyy\" is-open=\"ctrl.dates.to.open\" datepicker-options=\"ctrl.dates.options\" ng-click=\"ctrl.dates.to.open = !ctrl.dates.to.open\" when-closed=\"ctrl.dates.onClose(args)\" ng-model=\"ctrl.dates.to.value\"></div><div class=\"form-group clearfix\"><label>Categorias</label><ui-select ng-model=\"ctrl.category\" theme=\"select2\"><ui-select-match placeholder=\"Seleccione una categoría\">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat=\"category in ctrl.categories | filter: {name: $select.search}\"><div ng-bind-html=\"category.name | highlight: $select.search\"></div></ui-select-choices><ui-select-no-choice>No hay elementos disponibles</ui-select-no-choice></ui-select></div><hr><div><button class=\"btn btn-primary btn-block\" ng-click=\"ctrl.applyFilters()\">Filtrar</button></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller($root, EquipmentCategory, $transitions) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.applyFilters = applyFilters;\n\n      vm.dates = {\n        from: {value: new Date('2018/01/01'), open: false},\n        to: {value: new Date('2018/01/01'), open: false},\n        options: {showWeeks: false, showMeridian: false},\n        onClose: function (args) {\n          loadCategories();\n        }\n      };\n\n      loadCategories()\n        .then(() => {\n          applyFilters();\n        });\n\n      vm.offSuccess = $transitions.onSuccess({}, transition => {\n        applyFilters();\n      });\n    };\n\n    vm.$onDestroy = function () {\n      vm.offSuccess();\n    };\n\n    function loadCategories() {\n      if (vm.prevFrom && vm.prevFrom.getTime() === vm.dates.from.value.getTime() &&\n        vm.prevTo && vm.prevTo.getTime() === vm.dates.to.value.getTime()) {\n        return;\n      }\n\n      vm.loading = true;\n      vm.prevFrom = vm.dates.from.value;\n      vm.prevTo = vm.dates.to.value;\n\n      return EquipmentCategory\n        .find(vm.dates.from.value, vm.dates.to.value)\n        .then(categories => {\n          vm.categories = categories;\n          vm.category = vm.categories.find(current=> current.name === 'Camion');\n          vm.loading = false;\n        })\n        .catch(err => {\n          console.log(err);\n          vm.loading = false;\n        });\n    }\n\n    function applyFilters() {\n      $root.$emit('filter:update', {\n        from: vm.dates.from.value,\n        to: vm.dates.to.value,\n        category: vm.category\n      });\n    }\n  }\n})();",";(() => {\n  const angular = window.angular;\n\n  Controller.$inject = ['$rootScope', '$element', 'Equipment'];\n\n  angular\n    .module('app')\n    .component('equipmentRanking', {\n      template:'<div class=\"panel panel-light\"><div class=\"panel-heading\">Estado de flota - Análisis diario</div><operation-seagull-chart from=\"ctrl.from\" to=\"ctrl.to\" categories=\"ctrl.categories\" is-loading=\"ctrl.loading\"></operation-seagull-chart><div class=\"centered-message\" ng-show=\"!ctrl.category\"><h4 class=\"no-margin\">No se ha seleccionado una categoría de equipamiento</h4></div><div ng-show=\"ctrl.category && !ctrl.loading\" class=\"ng-hide marginLR20 marginT20 paddingB5\"><equipment-ranking-details from=\"ctrl.from\" to=\"ctrl.to\" categories=\"ctrl.categories\"></equipment-ranking-details></div></div>',\n      controller: Controller,\n      controllerAs: 'ctrl'\n    });\n\n  function Controller($root, $element, Equipment) {\n    const vm = this;\n\n    vm.$onInit = function () {\n      const container = $element.find('.chart');\n      vm.container = container[0];\n\n      vm.category = null;\n      vm.filters = {};\n      vm.loading = false;\n      vm.offFilters = $root.$on('filter:update', (e, filters) => {\n        vm.filters = angular.copy(filters);\n        vm.from = vm.filters.from;\n        vm.to = vm.filters.to;\n        vm.category = vm.filters.category;\n        vm.categories = vm.category ? [vm.category] : null;\n      });\n    };\n\n    vm.$onDestroy = function () {\n      vm.offFilters();\n    };\n  }\n})();",";(() => {\n  const angular = window.angular;\n\n  Controller.$inject = [];\n\n  angular\n    .module('app')\n    .component('equipmentRankingDetails', {\n      template:'<div class=\"panel panel-light\"><div class=\"panel-heading\">Detalles por estado</div><div class=\"panel-body\"><ui-select ng-model=\"ctrl.selectedStatus\" theme=\"select2\" search-enabled=\"false\" ng-change=\"ctrl.onSelectStatus()\"><ui-select-match placeholder=\"Seleccione un estado\">{{$select.selected}}</ui-select-match><ui-select-choices repeat=\"current in ctrl.status\"><div ng-bind-html=\"current\"></div></ui-select-choices><ui-select-no-choice>No hay elementos disponibles</ui-select-no-choice></ui-select></div><div style=\"position: relative\"><div ng-class=\"{transparent: !ctrl.selectedStatus}\"><equipment-status-details-chart categories=\"ctrl.categories\" from=\"ctrl.from\" to=\"ctrl.to\" status=\"ctrl.selectedStatus\"></equipment-status-details-chart></div><div class=\"centered-message\" ng-show=\"!ctrl.selectedStatus\"><h4 class=\"no-margin\">No se ha seleccionado un estado</h4></div></div><spinner show=\"ctrl.loading\"></spinner></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        from: '<',\n        to: '<',\n        categories: '<'\n      }\n    });\n\n  function Controller() {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.status = ['Operative', 'Delay', 'Standby', 'Downtime'];\n      vm.onSelectStatus = onSelectStatus;\n      vm.selectedStatus = null;\n    };\n\n    vm.$onChanges = function () {\n      vm.selectedStatus = null;\n    };\n\n    vm.$onDestroy = function () {\n    };\n\n    function onSelectStatus() {\n    }\n  }\n})();","(() => {\n  const angular = window.angular;\n\n  angular\n    .module('app')\n    .component('productionRanking', {\n      template:'<div><equipment-ranking></equipment-ranking></div>'\n    });\n\n})();","(() => {\n  const angular = window.angular;\n\n  Controller.$inject = [];\n\n  angular\n    .module('app')\n    .component('productionRealtime', {\n      template:'<truck-operation-chart></truck-operation-chart>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {\n        trucks: '<'\n      }\n    });\n\n  function Controller() {\n    const vm = this;\n\n    vm.$onInit = function () {\n      vm.text = 'Realtime';\n    };\n  }\n})();","(() => {\n\n  Controller.$inject = ['$rootScope', '$element', 'Truck', 'LoadDump'];\n\n  angular\n    .module('app')\n    .component('truckOperationChart', {\n      template:'<div class=\"panel panel-light\"><div class=\"panel-heading\">Status de producción</div><div class=\"chart\" ng-class=\"{transparent: !ctrl.trucks.length}\"></div><div class=\"centered-message\" ng-show=\"!ctrl.trucks.length\"><h4 class=\"no-margin\">No se han seleccionado Camiones</h4></div><spinner show=\"ctrl.loading\"></spinner></div>',\n      controller: Controller,\n      controllerAs: 'ctrl',\n      bindings: {}\n    });\n\n  function Controller($root, $element, Truck, LoadDump) {\n    const vm = this;\n\n    const CHART_HEIGHT = 550;\n    const HEIGHT_RATIO = 0.6;\n    const DIM_CATEGORY_INDEX = 0;\n    const DIM_TIME_START = 1;\n    const DIM_TIME_FINISH = 2;\n\n\n    vm.$onInit = function () {\n      const container = $element.find('.chart');\n      container.height(CHART_HEIGHT);\n      vm.container = container[0];\n\n      vm.filters = {};\n      vm.offFilters = $root.$on('filter:update', (e, filters) => {\n        vm.filters = angular.copy(filters);\n        vm.trucks = vm.filters.trucks;\n\n        if (!vm.trucks || !vm.trucks.length) {\n          return;\n        }\n\n        vm.loading = true;\n\n        LoadDump\n          .getGanttData(vm.filters.trucks, vm.filters.date)\n          .then(data => {\n            vm.loading = false;\n            plotChart(data);\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      });\n    };\n\n    vm.$onDestroy = function () {\n      if (vm.offFilters) {\n        vm.offFilters();\n      }\n\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n    };\n\n    function plotChart(_rawData) {\n      const colors = [\n        '#07a2a4',\n        '#a3a1fb',\n        '#616dd6',\n        '#5fe2a0'\n      ];\n      const zoomStart = getZoomStart(_rawData.trucks.length);\n\n      const series = Object.keys(_rawData.data).map((key, index) => {\n        return {\n          id: key,\n          name: _rawData.data[key].name,\n          itemStyle: {\n            color: colors[index]\n          },\n          type: 'custom',\n          renderItem: renderGanttItem,\n          encode: {\n            x: [DIM_TIME_START, DIM_TIME_FINISH],\n            y: DIM_CATEGORY_INDEX,\n            tooltip: [DIM_CATEGORY_INDEX, DIM_TIME_START, DIM_TIME_FINISH]\n          },\n          dimensions: _rawData.data[key].dimensions,\n          data: _rawData.data[key].data\n        };\n      });\n\n\n      series.push({\n        id: 'names',\n        type: 'custom',\n        renderItem: renderAxisLabelItem,\n        encode: {\n          x: -1, // Then this series will not controlled by x.\n          y: 0\n        },\n        data: _rawData.trucks.map((current, index) => [index, current])\n      });\n\n      const options = {\n        legend: {},\n        tooltip: {\n          formatter: (params) => {\n            if (params.seriesId === 'names') {\n              return;\n            }\n            const truck = _rawData.trucks[params.value[0]];\n            return `${truck} | ${params.seriesName}\n            <br/> ${params.marker} Inicio:  ${moment(params.value[1]).format('YYYY-MM-DD HH:mm:ss')}\n            <br/> ${params.marker} Fin:  ${moment(params.value[2]).format('YYYY-MM-DD HH:mm:ss')}`;\n          }\n        },\n        animation: false,\n        dataZoom: [{\n          type: 'slider',\n          xAxisIndex: 0,\n          filterMode: 'weakFilter',\n          height: 20,\n          bottom: 0,\n          start: 0,\n          end: 26,\n          handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',\n          handleSize: '80%',\n          showDetail: false\n        }, {\n          type: 'inside',\n          id: 'insideX',\n          xAxisIndex: 0,\n          filterMode: 'weakFilter',\n          start: 0,\n          end: 26,\n          zoomOnMouseWheel: false,\n          moveOnMouseMove: true\n        }, {\n          type: 'slider',\n          yAxisIndex: 0,\n          zoomLock: true,\n          width: 10,\n          right: 10,\n          top: 70,\n          bottom: 20,\n          start: zoomStart,\n          end: 100,\n          handleSize: 0,\n          showDetail: false\n        }, {\n          type: 'inside',\n          id: 'insideY',\n          yAxisIndex: 0,\n          start: zoomStart,\n          end: 100,\n          zoomOnMouseWheel: false,\n          moveOnMouseMove: true,\n          moveOnMouseWheel: true\n        }],\n        grid: {\n          show: true,\n          top: 70,\n          bottom: 20,\n          left: 150,\n          right: 20,\n          backgroundColor: '#fff',\n          borderWidth: 0\n        },\n        xAxis: {\n          type: 'time',\n          position: 'top',\n          splitLine: {\n            lineStyle: {\n              color: ['#E9EDFF']\n            }\n          },\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            lineStyle: {\n              color: '#929ABA'\n            }\n          },\n          axisLabel: {\n            color: '#929ABA',\n            inside: false,\n            align: 'center'\n          }\n        },\n        yAxis: {\n          axisTick: {show: false},\n          splitLine: {show: false},\n          axisLine: {show: false},\n          axisLabel: {show: false},\n          min: 0,\n          max: _rawData.trucks.length\n        },\n        series: series\n      };\n\n      if (vm.chart) {\n        echarts.dispose(vm.chart);\n      }\n\n      if (!vm.chart || vm.chart.isDisposed()) {\n        vm.chart = echarts.init(vm.container, 'custom');\n      }\n\n      vm.chart.clear();\n      vm.chart.setOption(options);\n      vm.chart.resize();\n    }\n\n    function renderGanttItem(params, api) {\n      var categoryIndex = api.value(DIM_CATEGORY_INDEX);\n      var startTime = api.coord([api.value(DIM_TIME_START), categoryIndex]);\n      var finishTime = api.coord([api.value(DIM_TIME_FINISH), categoryIndex]);\n\n      var barLength = finishTime[0] - startTime[0];\n      // Get the heigth corresponds to length 1 on y axis.\n      var barHeight = api.size([0, 1])[1] * HEIGHT_RATIO;\n      // var barHeight = 30;\n      var x = startTime[0];\n      var y = startTime[1] - barHeight;\n\n      /*var flightNumber = api.value(3) + '';\n      var flightNumberWidth = echarts.format.getTextRect(flightNumber).width;\n      var text = (barLength > flightNumberWidth + 40 && x + barLength >= 180)\n        ? flightNumber : '';*/\n\n      var rectNormal = clipRectByRect(params, {\n        x: x, y: y, width: barLength, height: barHeight\n      });\n      /*var rectText = clipRectByRect(params, {\n        x: x, y: y, width: barLength, height: barHeight\n      });*/\n\n      return {\n        type: 'group',\n        children: [{\n          type: 'rect',\n          ignore: !rectNormal,\n          shape: rectNormal,\n          style: api.style()\n        }]\n      };\n    }\n\n    function renderAxisLabelItem(params, api) {\n      var y = api.coord([0, api.value(0)])[1];\n      if (y < params.coordSys.y + 5) {\n        return;\n      }\n\n      const textWidth = echarts.format.getTextRect(api.value(1)).width;\n      const barHeight = api.size([0, 1])[1] * HEIGHT_RATIO / 2;\n\n      return {\n        type: 'group',\n        position: [\n          textWidth / 2,\n          y - barHeight + 5\n        ],\n        children: [{\n          type: 'text',\n          style: {\n            x: 10,\n            y: 0,\n            textVerticalAlign: 'bottom',\n            textAlign: 'center',\n            text: api.value(1),\n            textFill: '#000'\n          }\n        }]\n      };\n    }\n\n\n    function clipRectByRect(params, rect) {\n      return echarts.graphic.clipRectByRect(rect, {\n        x: params.coordSys.x,\n        y: params.coordSys.y,\n        width: params.coordSys.width,\n        height: params.coordSys.height\n      });\n    }\n\n    function getZoomStart(trucksLength) {\n      const visibleBars = Math.floor((CHART_HEIGHT - 150) / 40);\n      if (visibleBars >= trucksLength) {\n        return 0;\n      }\n      return 100 * (1 - visibleBars / trucksLength);\n    }\n  }\n})();"]}